(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{232:function(t,s,a){t.exports=a.p+"assets/img/git.rebase.7278f06f.jpeg"},395:function(t,s,a){"use strict";a.r(s);var e=a(28),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"rebase-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rebase-说明"}},[t._v("#")]),t._v(" rebase 说明")]),t._v(" "),e("h2",{attrs:{id:"merge-与-rebase"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#merge-与-rebase"}},[t._v("#")]),t._v(" merge 与 rebase")]),t._v(" "),e("p",[t._v("两者做的事其实是一样的，都将一个分支的更改并入另一个分支，只不过方式有些不同。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(232),alt:"merge 与 rebase"}})]),t._v(" "),e("h3",{attrs:{id:"合并前"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#合并前"}},[t._v("#")]),t._v(" 合并前")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("      "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),t._v(" master\n     "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("F")]),t._v(" origin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),e("p",[t._v("1.使用 "),e("code",[t._v("merge")]),t._v(" 合并后")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("      "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),t._v("  \n     "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("          \\\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("F")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("G")]),t._v("   master"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" origin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),e("p",[t._v("2.使用 "),e("code",[t._v("rebase")]),t._v(" 的方式，就不会有 "),e("code",[t._v("G")]),t._v(" 合并点")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("F")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'---E'")]),t._v("   master"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" origin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),e("blockquote",[e("p",[t._v("其中 "),e("code",[t._v("D’, E’")]),t._v(" 的 commit SHA 序号跟本來 "),e("code",[t._v("D, E")]),t._v(" 是不同的，应为算是砍掉重新 commit 了。")])]),t._v(" "),e("h3",{attrs:{id:"merge-合并"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#merge-合并"}},[t._v("#")]),t._v(" merge 合并")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("git checkout feature\ngit merge merge\n")])])]),e("p",[t._v("feature 分支中新的合并提交将两个分支的历史连在了一起。merge 是一个安全的操作。现有的分支不会被更改，每次合并上游更改时 feature 分支"),e("strong",[t._v("都会引入一个外来的合并提交")]),t._v("。如果上游分支非常活跃的话，这或多或少会污染你的分支历史。")]),t._v(" "),e("h3",{attrs:{id:"rebase-合并"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rebase-合并"}},[t._v("#")]),t._v(" rebase 合并")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("git checkout feature\ngit rebase master\n")])])]),e("p",[t._v("把整个 feature 分支移动到 master 分支的后面，有效地把所有 master 分支上新的提交并入过来。但是，rebase 为原分支上每一个提交创建一个新的提交，重写了项目历史，并且"),e("strong",[t._v("不会带来合并提交")]),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"rebase-优缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rebase-优缺点"}},[t._v("#")]),t._v(" rebase 优缺点")]),t._v(" "),e("h3",{attrs:{id:"优点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[t._v("#")]),t._v(" 优点")]),t._v(" "),e("ul",[e("li",[t._v("项目历史会非常整洁，呈现出完美的线性")]),t._v(" "),e("li",[t._v("方便 code review。")])]),t._v(" "),e("h3",{attrs:{id:"缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[t._v("#")]),t._v(" 缺点")]),t._v(" "),e("ul",[e("li",[t._v("安全性，如果你违反了 rebase 法则，重写项目历史可能会给你的协作工作流带来灾难性的影响；")]),t._v(" "),e("li",[t._v("可跟踪性，rebase 不会有合并提交中附带的信息——你看不到 feature 分支中并入了上游的哪些更改；")])]),t._v(" "),e("h2",{attrs:{id:"rebase-法则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rebase-法则"}},[t._v("#")]),t._v(" rebase 法则")]),t._v(" "),e("p",[t._v("上面提到的法则就是"),e("strong",[t._v("绝对不在公共分支上使用 rebase")]),t._v("。即在运行 "),e("code",[t._v("git rebase")]),t._v(" 之前，先问下这个分支是不是只有你自己工作，如果不是那就不能使用 rebase。")]),t._v(" "),e("h2",{attrs:{id:"rebase-交互式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rebase-交互式"}},[t._v("#")]),t._v(" rebase 交互式")]),t._v(" "),e("h3",{attrs:{id:"合并最新代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#合并最新代码"}},[t._v("#")]),t._v(" 合并最新代码")]),t._v(" "),e("p",[t._v("允许更改并入新分支的提交，比自动的 rebase 要强大的多，它提供了对分支上提交历史完整的控制。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("git checkout feature\ngit rebase "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i master\n")])])]),e("p",[t._v("这里的 "),e("code",[t._v("-i")]),t._v(" 是指"),e("strong",[t._v("交互模式")]),t._v("，可以干预 rebase 事务过程，包括设置commit message、暂停 commit 等。接下来进入文本编辑器，显示所有将被移动的提交。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("pick "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("69")]),t._v("f9342 dev_4\n  \n# Rebase de7db81"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".69")]),t._v("f9342 onto "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("de7db81")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n#\n# Commands"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n# p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pick "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" use commit\n# r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reword "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" use commit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" but edit the commit message\n# e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" edit "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" use commit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" but stop "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" amending\n# s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" squash "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" use commit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" but meld into previous commit\n# f"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fixup "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" like "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"squash"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" but discard "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" commit's log message\n# x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exec "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("command"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" run "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("the rest "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" the line"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" using shell\n# d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" drop "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" remove commit\n# l"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" label current "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" a name\n# t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" reset "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" to a label\n# m"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" merge "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("# "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("oneline"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n# "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("       create a merge commit using the original merge commit's\n# "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("       "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("message")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("or the oneline"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" no original merge commit was\n# "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("       specified"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Use "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" to reword the commit message"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n# These lines can be re"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ordered"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" they are executed "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" top to bottom"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n# If you remove a line here "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THAT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COMMIT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WILL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LOST")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n#       However"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" you remove everything"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" the rebase will be aborted"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n#\n# Note that empty commits are commented out\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/dev/tutorial/git-test/.git/rebase-merge/git-rebase-todo"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),t._v("L"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1081")]),t._v("C\n")])])]),e("p",[t._v("如果不修改或修改提交信息后，键入 "),e("code",[t._v(":wq")]),t._v("，然后解决冲突，这时会产生临时分支，如图")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tutorial"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("git"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("test  ➦ de7db81 ●✚ "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("R")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  \n")])])]),e("p",[t._v("此时输入")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("git add "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ngit rebase "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),t._v("\n# git rebase –abort 放弃一次合并\n")])])]),e("p",[t._v("然后又会进入编辑器")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("dev_4\n\n# Please enter the commit message "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" your changes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Lines starting\n# "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),t._v(" will be ignored"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" and an empty message aborts the commit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n# interactive rebase "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" progress"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" onto de7db81\n# Last command "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("done")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" command done"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n#    pick "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("69")]),t._v("f9342 dev_4\n# No commands remaining"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n# You are currently rebasing branch "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dev_4'")]),t._v(" on "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'de7db81'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n# Changes to be committed"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n#       modified"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("README")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n#\n")])])]),e("p",[t._v("修改完提交信息后，键入 "),e("code",[t._v(":wq")]),t._v("，返回")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("detached "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("fb8d7c"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" dev_4\n "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" file changed"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertions")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nSuccessfully rebased and updated refs"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev_4"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tutorial"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("git"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("test   dev_4  \n")])])]),e("p",[t._v("输入")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("git log "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("graph "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("pretty"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("oneline "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("abbrev"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("commit\n")])])]),e("p",[t._v("此时分支图形展示图如下")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fb8d7c")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dev_4"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" dev_4\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("de7db81")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("master"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dev_3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" dev_3\n")])])]),e("h3",{attrs:{id:"本地清理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本地清理"}},[t._v("#")]),t._v(" 本地清理")]),t._v(" "),e("p",[t._v("隔段时间执行一次交互式 rebase，可以保证 feature 分支的每个提交都有意义且没有比较傻的提交记录或你不想让别人看到的提交记录。对最近的3次提交进行交互式 rebase。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// feature 是只有你一个人才能工作的分支")]),t._v("\ngit checkout feature\ngit log "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("oneline\n")])])]),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eab2a62")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dev_4"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" dev_4_3\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("02")]),t._v("f7645 dev_4_2\ndd70779 dev_4_1\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("bfbcb8 dev_4\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("29105")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("e8")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("origin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" origin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" master"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Initial commit\n")])])]),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("git rebase "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n")])])]),e("p",[t._v("接下来进入文本编辑器，显示所有将被移动的提交。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("pick "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("bfbcb8 dev_4\npick "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4456")]),t._v("af9 dev_4_1\npick "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("dbc566 dev_4_2\npick c4f05e9 dev_4_3\n\n# Rebase "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("29105e8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c4f05e9 onto "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("29105")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("e8")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" commands"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n#\n# Commands"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n# p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pick "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" use commit\n# r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reword "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" use commit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" but edit the commit message\n# e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" edit "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" use commit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" but stop "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" amending\n# s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" squash "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" use commit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" but meld into previous commit\n# f"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fixup "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" like "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"squash"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" but discard "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" commit's log message\n# x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exec "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("command"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" run "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("the rest "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" the line"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" using shell\n# d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" drop "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" remove commit\n# l"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" label "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" label current "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" a name\n# t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reset "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" reset "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" to a label\n# m"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" merge "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("label"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("# "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("oneline"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n# "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("       create a merge commit using the original merge commit's\n# "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("       "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("message")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("or the oneline"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" no original merge commit was\n# "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("       specified"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Use "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("c "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" to reword the commit message"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n# These lines can be re"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ordered"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" they are executed "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" top to bottom"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n# If you remove a line here "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("THAT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COMMIT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WILL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LOST")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n#       However"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" you remove everything"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" the rebase will be aborted"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/dev/tutorial/git-test/.git/rebase-merge/git-rebase-todo"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("L"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1145")]),t._v("C\n")])])]),e("p",[t._v("交互界面中，最新列出最近的 4 个 commit（最后的是最近的一次提交），最前面是操作命令，默认 pick，表示该行被选中")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("# p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pick 选中\n# r"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reword 选中并且修改提交信息\n# e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" edit 选中，rebase 时会暂停，允许修改这个 commit\n# s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" squash 选中，会将当前commit与上一个commit合并\n# f"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fixup 与squash相同，但不会保存当前commit的提交信息\n# x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exec 执行其他shell命令\n# d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" drop 删除提交信息\n")])])]),e("p",[t._v("英文状态下键入 "),e("code",[t._v(":i")]),t._v(" ，然后将上文修改为")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("pick "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("bfbcb8 dev_4\ns "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4456")]),t._v("af9 dev_4_1\nf "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("dbc566 dev_4_2\ns c4f05e9 dev_4_3\n")])])]),e("p",[t._v("英文状态下键入 esc，然后输入 "),e("code",[t._v(":wq")]),t._v("（保存并退出），编辑器此刻展示为")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("# This is a combination "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" commits"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n# This is the "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("st commit message"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\ndev_4\n\n# This is the commit message #"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\ndev_4_1\n\n# The commit message #"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" will be skipped"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\n# dev_4_2\n\n# This is the commit message #"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\ndev_4_3\n\n# Please enter the commit message "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" your changes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Lines starting\n# "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),t._v(" will be ignored"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" and an empty message aborts the commit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n#\n# Date"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("      Mon Nov "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0800")]),t._v("\n#\n# interactive rebase "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" progress"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" onto "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("29105e8")]),t._v("\n# Last commands "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("done")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" commands done"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n#    fixup "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("dbc566 dev_4_2\n#    squash c4f05e9 dev_4_3\n# No commands remaining"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/dev/tutorial/git-test/.git/COMMIT_EDITMSG"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),t._v("L"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("682")]),t._v("C\n")])])]),e("p",[t._v("可以看见 "),e("code",[t._v("dev_4_2")]),t._v(" 的提交信息被注释了，因为命令是 "),e("code",[t._v("f")]),t._v("，如果自己不改动提交信息的话，键入 "),e("code",[t._v(":q")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("commit "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("69")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("f93421a572d6a1171bdbc94b0590fe68cd0c02")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dev_4"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nAuthor"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ruizhengyun "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ruizhengyun@gmail"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nDate"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("   Mon Nov "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0800")]),t._v("\n\n    dev_4\n\n    dev_4_1\n\n    dev_4_3\n")])])]),e("h3",{attrs:{id:"本地清理另外一种方式-pony-foo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本地清理另外一种方式-pony-foo"}},[t._v("#")]),t._v(" 本地清理另外一种方式 pony Foo")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("git checkout dev_4\ngit reset "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\ngit add "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ngit commit "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dev_4"')]),t._v("\ngit push "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f\n")])])]),e("p",[t._v("先撤销过去 4 个 commit，然后再建一个新的")]),t._v(" "),e("h2",{attrs:{id:"强制推送"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#强制推送"}},[t._v("#")]),t._v(" 强制推送")]),t._v(" "),e("p",[e("code",[t._v("git push")]),t._v(" 命令要加上 "),e("code",[t._v("force")]),t._v(" 参数，因为 "),e("code",[t._v("rebase")]),t._v(" 以后，分支历史改变了，跟远程分支不一定兼容，有可能要强行推送")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("git push "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("force\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或")]),t._v("\ngit push "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);