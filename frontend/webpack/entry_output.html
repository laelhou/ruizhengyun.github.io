<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>从哪儿来到哪儿去 | 编程之上</title>
    <meta name="description" content="编程之上，致力于前后端、DevOps 等文章，使各端开发者能够突破瓶颈进一步成长。同时，也记录个人生活，不负芳华。">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/assets/css/0.styles.26cb1efd.css" as="style"><link rel="preload" href="/assets/js/app.e81b8cfe.js" as="script"><link rel="preload" href="/assets/js/2.e6f4d46e.js" as="script"><link rel="preload" href="/assets/js/167.b4d1535c.js" as="script"><link rel="prefetch" href="/assets/js/10.5fa34354.js"><link rel="prefetch" href="/assets/js/100.054a5662.js"><link rel="prefetch" href="/assets/js/101.deca23b9.js"><link rel="prefetch" href="/assets/js/102.75feb3b9.js"><link rel="prefetch" href="/assets/js/103.5295461f.js"><link rel="prefetch" href="/assets/js/104.ac48597a.js"><link rel="prefetch" href="/assets/js/105.23885d59.js"><link rel="prefetch" href="/assets/js/106.0a0c08c2.js"><link rel="prefetch" href="/assets/js/107.89e90acb.js"><link rel="prefetch" href="/assets/js/108.52e1bd31.js"><link rel="prefetch" href="/assets/js/109.2a6e0063.js"><link rel="prefetch" href="/assets/js/11.23691164.js"><link rel="prefetch" href="/assets/js/110.aa720c00.js"><link rel="prefetch" href="/assets/js/111.8d3537d1.js"><link rel="prefetch" href="/assets/js/112.3c52f8a4.js"><link rel="prefetch" href="/assets/js/113.6595e4fa.js"><link rel="prefetch" href="/assets/js/114.683278fc.js"><link rel="prefetch" href="/assets/js/115.e2f67236.js"><link rel="prefetch" href="/assets/js/116.0a67d906.js"><link rel="prefetch" href="/assets/js/117.5f7f3075.js"><link rel="prefetch" href="/assets/js/118.01a4229c.js"><link rel="prefetch" href="/assets/js/119.a1eea72c.js"><link rel="prefetch" href="/assets/js/12.6ffe8fd7.js"><link rel="prefetch" href="/assets/js/120.4e8ed9c2.js"><link rel="prefetch" href="/assets/js/121.62293bff.js"><link rel="prefetch" href="/assets/js/122.af0cbd35.js"><link rel="prefetch" href="/assets/js/123.81098794.js"><link rel="prefetch" href="/assets/js/124.dcf282bd.js"><link rel="prefetch" href="/assets/js/125.082b532c.js"><link rel="prefetch" href="/assets/js/126.84037026.js"><link rel="prefetch" href="/assets/js/127.b8f01b64.js"><link rel="prefetch" href="/assets/js/128.e7a837b1.js"><link rel="prefetch" href="/assets/js/129.888a7330.js"><link rel="prefetch" href="/assets/js/13.6bae060f.js"><link rel="prefetch" href="/assets/js/130.e0cd0e78.js"><link rel="prefetch" href="/assets/js/131.67d82467.js"><link rel="prefetch" href="/assets/js/132.12479c28.js"><link rel="prefetch" href="/assets/js/133.7aaf937e.js"><link rel="prefetch" href="/assets/js/134.8347b761.js"><link rel="prefetch" href="/assets/js/135.965c1199.js"><link rel="prefetch" href="/assets/js/136.5f41d5d5.js"><link rel="prefetch" href="/assets/js/137.a6bba66f.js"><link rel="prefetch" href="/assets/js/138.ee0eee6f.js"><link rel="prefetch" href="/assets/js/139.3a59b277.js"><link rel="prefetch" href="/assets/js/14.aca43021.js"><link rel="prefetch" href="/assets/js/140.867db40e.js"><link rel="prefetch" href="/assets/js/141.031ba2ab.js"><link rel="prefetch" href="/assets/js/142.61f8fa0f.js"><link rel="prefetch" href="/assets/js/143.2e1efc0c.js"><link rel="prefetch" href="/assets/js/144.bccb1416.js"><link rel="prefetch" href="/assets/js/145.be1ca204.js"><link rel="prefetch" href="/assets/js/146.50a146e6.js"><link rel="prefetch" href="/assets/js/147.dcc0597a.js"><link rel="prefetch" href="/assets/js/148.933147ae.js"><link rel="prefetch" href="/assets/js/149.921df107.js"><link rel="prefetch" href="/assets/js/15.4f5a5421.js"><link rel="prefetch" href="/assets/js/150.bcd7f60e.js"><link rel="prefetch" href="/assets/js/151.62bf6571.js"><link rel="prefetch" href="/assets/js/152.1d370cec.js"><link rel="prefetch" href="/assets/js/153.165e4d2c.js"><link rel="prefetch" href="/assets/js/154.4138c5a5.js"><link rel="prefetch" href="/assets/js/155.9760d506.js"><link rel="prefetch" href="/assets/js/156.882dded9.js"><link rel="prefetch" href="/assets/js/157.46b74338.js"><link rel="prefetch" href="/assets/js/158.85ccb68f.js"><link rel="prefetch" href="/assets/js/159.f6afb18a.js"><link rel="prefetch" href="/assets/js/16.38b7179c.js"><link rel="prefetch" href="/assets/js/160.5090679f.js"><link rel="prefetch" href="/assets/js/161.a1cb2e7d.js"><link rel="prefetch" href="/assets/js/162.79080b2a.js"><link rel="prefetch" href="/assets/js/163.b7438b68.js"><link rel="prefetch" href="/assets/js/164.6b12d4ec.js"><link rel="prefetch" href="/assets/js/165.39b222c3.js"><link rel="prefetch" href="/assets/js/166.f3e43ffd.js"><link rel="prefetch" href="/assets/js/168.dd0867ae.js"><link rel="prefetch" href="/assets/js/169.33e13e01.js"><link rel="prefetch" href="/assets/js/17.9a32e9a5.js"><link rel="prefetch" href="/assets/js/170.a2fc407f.js"><link rel="prefetch" href="/assets/js/171.85c643f1.js"><link rel="prefetch" href="/assets/js/172.4d47209f.js"><link rel="prefetch" href="/assets/js/173.d393e674.js"><link rel="prefetch" href="/assets/js/174.8df10b61.js"><link rel="prefetch" href="/assets/js/175.6598c6fe.js"><link rel="prefetch" href="/assets/js/176.4f62e51e.js"><link rel="prefetch" href="/assets/js/177.670e6277.js"><link rel="prefetch" href="/assets/js/178.27baaf04.js"><link rel="prefetch" href="/assets/js/179.1c9154cb.js"><link rel="prefetch" href="/assets/js/18.42c93012.js"><link rel="prefetch" href="/assets/js/180.e530db3f.js"><link rel="prefetch" href="/assets/js/181.fafc96ad.js"><link rel="prefetch" href="/assets/js/182.237cf7ff.js"><link rel="prefetch" href="/assets/js/183.74b764e5.js"><link rel="prefetch" href="/assets/js/184.6fa37e37.js"><link rel="prefetch" href="/assets/js/185.1ea644df.js"><link rel="prefetch" href="/assets/js/186.71496374.js"><link rel="prefetch" href="/assets/js/187.271a31a8.js"><link rel="prefetch" href="/assets/js/188.a0c332e3.js"><link rel="prefetch" href="/assets/js/189.25e1839f.js"><link rel="prefetch" href="/assets/js/19.7d5e7e38.js"><link rel="prefetch" href="/assets/js/190.f3a8ee1b.js"><link rel="prefetch" href="/assets/js/191.efa2945b.js"><link rel="prefetch" href="/assets/js/192.0d2d80e7.js"><link rel="prefetch" href="/assets/js/193.955c0e74.js"><link rel="prefetch" href="/assets/js/194.e824f311.js"><link rel="prefetch" href="/assets/js/195.714656a6.js"><link rel="prefetch" href="/assets/js/196.fbbf685d.js"><link rel="prefetch" href="/assets/js/197.eb0d49e1.js"><link rel="prefetch" href="/assets/js/198.de669c28.js"><link rel="prefetch" href="/assets/js/20.d742c97a.js"><link rel="prefetch" href="/assets/js/21.9e3d84e8.js"><link rel="prefetch" href="/assets/js/22.7be38c4a.js"><link rel="prefetch" href="/assets/js/23.d3d09ebf.js"><link rel="prefetch" href="/assets/js/24.a63d4ca5.js"><link rel="prefetch" href="/assets/js/25.6c3a4141.js"><link rel="prefetch" href="/assets/js/26.be3df6c1.js"><link rel="prefetch" href="/assets/js/27.6dc20c6c.js"><link rel="prefetch" href="/assets/js/28.61df0d7a.js"><link rel="prefetch" href="/assets/js/29.13d485ce.js"><link rel="prefetch" href="/assets/js/3.b8c0a42c.js"><link rel="prefetch" href="/assets/js/30.6f9f2068.js"><link rel="prefetch" href="/assets/js/31.06223651.js"><link rel="prefetch" href="/assets/js/32.f5328ac1.js"><link rel="prefetch" href="/assets/js/33.07911484.js"><link rel="prefetch" href="/assets/js/34.cf5bdff1.js"><link rel="prefetch" href="/assets/js/35.c6b6467a.js"><link rel="prefetch" href="/assets/js/36.a95047f1.js"><link rel="prefetch" href="/assets/js/37.06f0e31f.js"><link rel="prefetch" href="/assets/js/38.deca5597.js"><link rel="prefetch" href="/assets/js/39.b2a2c480.js"><link rel="prefetch" href="/assets/js/4.27e79820.js"><link rel="prefetch" href="/assets/js/40.c3cd1b61.js"><link rel="prefetch" href="/assets/js/41.036c16da.js"><link rel="prefetch" href="/assets/js/42.bcf0698d.js"><link rel="prefetch" href="/assets/js/43.4c9f98d2.js"><link rel="prefetch" href="/assets/js/44.40989c71.js"><link rel="prefetch" href="/assets/js/45.0264d807.js"><link rel="prefetch" href="/assets/js/46.19967918.js"><link rel="prefetch" href="/assets/js/47.3e6bbc6d.js"><link rel="prefetch" href="/assets/js/48.ef515251.js"><link rel="prefetch" href="/assets/js/49.fcaedd46.js"><link rel="prefetch" href="/assets/js/5.43c70a92.js"><link rel="prefetch" href="/assets/js/50.78e9db1b.js"><link rel="prefetch" href="/assets/js/51.bfe61f51.js"><link rel="prefetch" href="/assets/js/52.4b1c3c51.js"><link rel="prefetch" href="/assets/js/53.c19f8a91.js"><link rel="prefetch" href="/assets/js/54.56b09e53.js"><link rel="prefetch" href="/assets/js/55.4605f4af.js"><link rel="prefetch" href="/assets/js/56.5e33f6c6.js"><link rel="prefetch" href="/assets/js/57.3b8c6e2d.js"><link rel="prefetch" href="/assets/js/58.b1d116ce.js"><link rel="prefetch" href="/assets/js/59.e563b9a2.js"><link rel="prefetch" href="/assets/js/6.fddb8c5b.js"><link rel="prefetch" href="/assets/js/60.fc6f8574.js"><link rel="prefetch" href="/assets/js/61.7c7a016a.js"><link rel="prefetch" href="/assets/js/62.71e365a9.js"><link rel="prefetch" href="/assets/js/63.21193c78.js"><link rel="prefetch" href="/assets/js/64.f084f91e.js"><link rel="prefetch" href="/assets/js/65.a4b7dc61.js"><link rel="prefetch" href="/assets/js/66.916230b2.js"><link rel="prefetch" href="/assets/js/67.a53ac41e.js"><link rel="prefetch" href="/assets/js/68.8b4ff01e.js"><link rel="prefetch" href="/assets/js/69.ea650b0f.js"><link rel="prefetch" href="/assets/js/7.7c8f2501.js"><link rel="prefetch" href="/assets/js/70.0e68a461.js"><link rel="prefetch" href="/assets/js/71.4e969ee6.js"><link rel="prefetch" href="/assets/js/72.20e0176b.js"><link rel="prefetch" href="/assets/js/73.05558600.js"><link rel="prefetch" href="/assets/js/74.deeb542f.js"><link rel="prefetch" href="/assets/js/75.a66cd6ad.js"><link rel="prefetch" href="/assets/js/76.51cc2506.js"><link rel="prefetch" href="/assets/js/77.dbfe60c6.js"><link rel="prefetch" href="/assets/js/78.3da692f2.js"><link rel="prefetch" href="/assets/js/79.b37669c0.js"><link rel="prefetch" href="/assets/js/8.33f697f5.js"><link rel="prefetch" href="/assets/js/80.7d0d6433.js"><link rel="prefetch" href="/assets/js/81.96e7dc06.js"><link rel="prefetch" href="/assets/js/82.36aae36f.js"><link rel="prefetch" href="/assets/js/83.dc25d746.js"><link rel="prefetch" href="/assets/js/84.e089d96e.js"><link rel="prefetch" href="/assets/js/85.9bd28009.js"><link rel="prefetch" href="/assets/js/86.b0b1524a.js"><link rel="prefetch" href="/assets/js/87.d129af27.js"><link rel="prefetch" href="/assets/js/88.ac5e2fd5.js"><link rel="prefetch" href="/assets/js/89.55269467.js"><link rel="prefetch" href="/assets/js/9.3a1fbf2b.js"><link rel="prefetch" href="/assets/js/90.5778df13.js"><link rel="prefetch" href="/assets/js/91.227687c6.js"><link rel="prefetch" href="/assets/js/92.4365d88d.js"><link rel="prefetch" href="/assets/js/93.b33b0dc1.js"><link rel="prefetch" href="/assets/js/94.e588b810.js"><link rel="prefetch" href="/assets/js/95.5cf071a2.js"><link rel="prefetch" href="/assets/js/96.fb4aeedd.js"><link rel="prefetch" href="/assets/js/97.891a9789.js"><link rel="prefetch" href="/assets/js/98.a471fddb.js"><link rel="prefetch" href="/assets/js/99.4339e54c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.26cb1efd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">编程之上</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/http/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frontend/dva/" class="nav-link">
  Dva
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/npm/" class="nav-link">
  Npm
</a></li><li class="dropdown-item"><!----> <a href="/frontend/architect/" class="nav-link">
  前端架构
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/chrome/" class="nav-link">
  Chrome
</a></li><li class="dropdown-item"><!----> <a href="/frontend/code-style/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejswx/" class="nav-link">
  Node.js 开发微信公众号
</a></li></ul></div></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构" class="dropdown-title"><span class="title">架构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/architect/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/architect/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/architect/setting/" class="nav-link">
  配置
</a></li><li class="dropdown-item"><!----> <a href="/architect/cli/" class="nav-link">
  Cli
</a></li></ul></div></div><div class="nav-item"><a href="/app/" class="nav-link">
  应用
</a></div><div class="nav-item"><a href="/view/" class="nav-link">
  看法
</a></div> <a href="https://github.com/ruizhengyun/ruizhengyun.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/http/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/frontend/dva/" class="nav-link">
  Dva
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/npm/" class="nav-link">
  Npm
</a></li><li class="dropdown-item"><!----> <a href="/frontend/architect/" class="nav-link">
  前端架构
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/chrome/" class="nav-link">
  Chrome
</a></li><li class="dropdown-item"><!----> <a href="/frontend/code-style/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejswx/" class="nav-link">
  Node.js 开发微信公众号
</a></li></ul></div></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构" class="dropdown-title"><span class="title">架构</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/architect/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/architect/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/architect/setting/" class="nav-link">
  配置
</a></li><li class="dropdown-item"><!----> <a href="/architect/cli/" class="nav-link">
  Cli
</a></li></ul></div></div><div class="nav-item"><a href="/app/" class="nav-link">
  应用
</a></div><div class="nav-item"><a href="/view/" class="nav-link">
  看法
</a></div> <a href="https://github.com/ruizhengyun/ruizhengyun.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>入门</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/webpack/" class="sidebar-link">前言</a></li><li><a href="/frontend/webpack/introduction.html" class="sidebar-link">简介</a></li><li><a href="/frontend/webpack/module.html" class="sidebar-link">模块</a></li><li><a href="/frontend/webpack/entry_output.html" class="active sidebar-link">从哪儿来到哪儿去</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/webpack/entry_output.html#流程" class="sidebar-link">流程</a></li><li class="sidebar-sub-header"><a href="/frontend/webpack/entry_output.html#entry" class="sidebar-link">entry</a></li><li class="sidebar-sub-header"><a href="/frontend/webpack/entry_output.html#context" class="sidebar-link">context</a></li><li class="sidebar-sub-header"><a href="/frontend/webpack/entry_output.html#提取-vendor" class="sidebar-link">提取 vendor</a></li><li class="sidebar-sub-header"><a href="/frontend/webpack/entry_output.html#多页应用" class="sidebar-link">多页应用</a></li><li class="sidebar-sub-header"><a href="/frontend/webpack/entry_output.html#output" class="sidebar-link">output</a></li></ul></li><li><a href="/frontend/webpack/loaders.html" class="sidebar-link">预处理器</a></li><li><a href="/frontend/webpack/style.html" class="sidebar-link">样式处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/webpack/split.html" class="sidebar-link">代码的分片</a></li><li><a href="/frontend/webpack/development.html" class="sidebar-link">开发环境</a></li><li><a href="/frontend/webpack/production.html" class="sidebar-link">生产环境</a></li><li><a href="/frontend/webpack/package_optimization.html" class="sidebar-link">打包优化</a></li><li><a href="/frontend/webpack/package_tools.html" class="sidebar-link">打包工具</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="从哪儿来到哪儿去"><a href="#从哪儿来到哪儿去" class="header-anchor">#</a> 从哪儿来到哪儿去</h1> <h2 id="流程"><a href="#流程" class="header-anchor">#</a> 流程</h2> <p>指定一个或多个入口（源码目录文件） <code>entry</code>，将各个模块打包封装为一个或多个代码块 <code>chunk</code>，并生成文件一个或多个 <code>bundle</code>。</p> <h2 id="entry"><a href="#entry" class="header-anchor">#</a> entry</h2> <p>确定入口模块的位置，定义 chunk name，默认为 <code>main</code>。其形式可以是：<strong>字符串、对象、数组或函数</strong>，字符串和数组其 chunk name 无法改变，只能是默认值。</p> <h3 id="字符串入口"><a href="#字符串入口" class="header-anchor">#</a> 字符串入口</h3> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/index.js'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="数组入口"><a href="#数组入口" class="header-anchor">#</a> 数组入口</h3> <p>将多个资源先合并，建过最后一个元素作为实际的入口路径。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'babel-polyfill'</span><span class="token punctuation">,</span>
    <span class="token string">'./src/index.js'</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>上面等同于在 <code>./src/index.js</code> 中 <code>import 'babel-polyfill'</code>。</p> <h3 id="对象入口"><a href="#对象入口" class="header-anchor">#</a> 对象入口</h3> <p>定义多个入口时必须使用的形式。其中</p> <ul><li>对象的属性名 key 就是 chunk name;</li> <li>对象的属性值 value 就是入口路径，可以是字符串，也可以为数组；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'index'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-polyfill'</span><span class="token punctuation">,</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'lib'</span><span class="token operator">:</span> <span class="token string">'./src/lib.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="函数式入口"><a href="#函数式入口" class="header-anchor">#</a> 函数式入口</h3> <p>只要返回<strong>字符串、数组和对象</strong>，可以动态配置，支持返回一个 Promise 对象进行一步操作，自由度很大。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 模拟异步操作</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./src/index.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="context"><a href="#context" class="header-anchor">#</a> context</h2> <p>资源入口的路径前缀，务必使用绝对路径。其作用是为了让 <code>entry</code> 编写更加简洁。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> <span class="token string">'./index.js'</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="提取-vendor"><a href="#提取-vendor" class="header-anchor">#</a> 提取 vendor</h2> <p>通常，都是由 <code>app.js</code> 单一入口进行引用，这样就会产生一个 <code>bundle.js</code> 文件，随着业务扩展，资源体积越发增大，从而降低用户的页面渲染速度。另外，也是由于只产生一个 <code>bundle.js</code>，所以编码稍作改动更新，就用重新打包，用户也要跟着重新下载，友好度不理想。</p> <p>我们都知道：库、框架等第三方模块（只要是非业务模块）这些几百年不会变化（夸张手法，意在说明不常改动更新），可集中打包。然后客户端缓存起来，从而提高用户界面的渲染速度。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'react-router'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>上面 <code>entry</code> 增加了 chunk name 为 vendor 这个 key，其 value 是个数组，但是数组中的值路径并指出，这到底怎么回事？这个就需要 <code>optimization.splitChunks</code>（webpack4 之前是 <code>CommonsChunkPlugin</code>），将 app 和 vendor 这两个 chunk 中的模块提取出来。</p> <ul><li>app，含业务模块和第三方依赖模块；</li> <li>vendor，第三方模块；</li></ul> <h2 id="多页应用"><a href="#多页应用" class="header-anchor">#</a> 多页应用</h2> <p>我们希望的是一个页面对应一个独立的 bundle，而不是将所有页面打包到一个 bundle 中。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token string">'./src/home.js'</span><span class="token punctuation">,</span>
    shopCar<span class="token operator">:</span> <span class="token string">'./src/shopCar.js'</span><span class="token punctuation">,</span>
    order<span class="token operator">:</span> <span class="token string">'./src/order.js'</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'react-router'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="output"><a href="#output" class="header-anchor">#</a> output</h2> <p>说了这么多，都是在说资源入口，对于资源出口使用配置 <code>output</code> 对象，其配置项有很多，在此只举例说明高频使用的一些属性配置。</p> <h3 id="单入口和多入口"><a href="#单入口和多入口" class="header-anchor">#</a> 单入口和多入口</h3> <p>1.单入口</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    publicPath<span class="token operator">:</span> <span class="token string">'/dist'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>2.多入口</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token string">'./src/vendor.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="filename"><a href="#filename" class="header-anchor">#</a> filename</h3> <p>打包后的 bundle 名字，可配合 path，也可以是一个相对路径 <code>filename: './src/bundle.js'</code>，对于多入口场景可以 <code>filename: [name].js</code>;</p> <table><thead><tr><th style="text-align:left;">变量名称</th> <th style="text-align:left;">描述</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">[hash]</td> <td style="text-align:left;">指代 webpack 此次打包所有资源生成的 hash</td> <td style="text-align:left;">只要 chunk 内容发生变化，就会改变，影响其他资源</td></tr> <tr><td style="text-align:left;">[chunkhash]</td> <td style="text-align:left;">指代当前 chunk 内容的 hash</td> <td style="text-align:left;">只有当前 chunk 内容发生变化，才会改变，使用缓存推荐使用</td></tr> <tr><td style="text-align:left;">[name]</td> <td style="text-align:left;">指代当前 chunk 的 name</td> <td style="text-align:left;">无</td></tr> <tr><td style="text-align:left;">[id]</td> <td style="text-align:left;">指代当前 chunk 的 id</td> <td style="text-align:left;">无</td></tr> <tr><td style="text-align:left;">[query]</td> <td style="text-align:left;">指代 filename 配置项中的 query</td> <td style="text-align:left;">与 chunk 内容无关，需开发者手动指定</td></tr></tbody></table> <p>所以上面配置可以稍作改动</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token string">'./src/vendor.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].[chunkhash].js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>通常，只有<strong>生产环境才配置 <code>[chunkhash]</code></strong>，原因是为了更新缓存，开发环境无需配置。</p> <h3 id="path"><a href="#path" class="header-anchor">#</a> path</h3> <p>指定资源文件<strong>输出位置</strong>，其<strong>值须为绝对路径</strong>，默认为 dist 目录。如果不更改它，可不必配置；</p> <h3 id="publicpath"><a href="#publicpath" class="header-anchor">#</a> publicPath</h3> <p>指定资源<strong>请求位置</strong>，容易与上面 path 的输出位置弄混。请求一种来自 HTML 页面，比如 script 标签加载，一种来自 js 或 css 请求，加载 js、图片或字体等。主要有 3 中形式</p> <p>1.HTML 形式
相对路径。假设当前 HTML 地址是 <code>http://xxx.com/page/index.html</code>，现在加载 <code>index.js</code> 文件</p> <ul><li>若 <code>publicPath： ''</code>，则 <code>http://xxx.com/page/index.js</code>;</li> <li>若 <code>publicPath： './js'</code>，则 <code>http://xxx.com/page/js/index.js</code>;</li> <li>若 <code>publicPath： '../assets'</code>，则 <code>http://xxx.com/assets/index.js</code>;</li></ul> <p>2.HOST 形式
相对路径。设置的值若是以 <code>/</code> 开始，就是基于页面地址 host name 为基础路径的。假设当前 HTML 地址是 <code>http://xxx.com/page/index.html</code>，现在加载 <code>index.js</code> 文件</p> <ul><li>若 <code>publicPath： '/'</code>，则 <code>http://xxx.com/index.js</code>;</li> <li>若 <code>publicPath： '/js/'</code>，则 <code>http://xxx.com/js/index.js</code>;</li> <li>若 <code>publicPath： '/assets/'</code>，则 <code>http://xxx.com/assets/index.js</code>;</li></ul> <p>3.CDN
绝对路径。通常这类资源都是静态的，由于静态资源的域名与当前页面域名不一致，所以才设置指定绝对路径。若 public 值以协议头或相对协议的形式开始，那就说明是与 CDN 相关。</p> <p>假设当前 HTML 地址是 <code>http://xxx.com/page/index.html</code>，现在加载 <code>index.js</code> 文件</p> <ul><li>若 <code>publicPath： 'https://cdn.com/'</code>，则 <code>https://cdn.com/index.js</code>;</li> <li>若 <code>publicPath： 'http://cdn.com/'</code>，则 <code>http://cdn.com/index.js</code>;</li> <li>若 <code>publicPath： '//cdn.com/assets/'</code>，则 <code>//cdn.com/assets/index.js</code>;</li></ul> <p><strong>注意</strong>，前面我们介绍的 webpack-dev-server 中也有个 <code>publicPath</code>，比较容易弄混的是 webpack-dev-server 的 <code>publicPath</code> 与 output 的 <code>publicPath</code>没有关系，却与 output 的 <code>path</code> 有关系。可看</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token operator">:</span> <span class="token string">'/assets/'</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span> <span class="token number">1989</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>启动 <code>webpack-dev-server</code> 服务后，访问 <code>localhost:1989/dist/bundle.js</code> 则会返回 404，因为 devServer.publicPath 此时设置的路径是 <code>localhost:1989/assets/</code>，所以访问 <code>localhost:1989/assets/bundle.js</code> 才是有效路径。为了不必要引起这类麻烦问题，可将两者输出默认设置一致。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新于:</span> <span class="time">3/10/2020, 1:33:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend/webpack/module.html" class="prev">
        模块
      </a></span> <span class="next"><a href="/frontend/webpack/loaders.html">
        预处理器
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e81b8cfe.js" defer></script><script src="/assets/js/2.e6f4d46e.js" defer></script><script src="/assets/js/167.b4d1535c.js" defer></script>
  </body>
</html>
