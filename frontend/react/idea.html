<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>react理念 | 编程之上</title>
    <meta name="description" content="编程之上，致力于前后端、DevOps 等，突破瓶颈进一步成长。记录生活，不辜负自己。">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/assets/css/0.styles.26cb1efd.css" as="style"><link rel="preload" href="/assets/js/app.9773433b.js" as="script"><link rel="preload" href="/assets/js/2.0fefc561.js" as="script"><link rel="preload" href="/assets/js/39.76f5de0e.js" as="script"><link rel="prefetch" href="/assets/js/10.367b023e.js"><link rel="prefetch" href="/assets/js/100.7ad60fc6.js"><link rel="prefetch" href="/assets/js/101.da2f50a1.js"><link rel="prefetch" href="/assets/js/102.f182c410.js"><link rel="prefetch" href="/assets/js/103.17d4b1ea.js"><link rel="prefetch" href="/assets/js/104.0c7e53cb.js"><link rel="prefetch" href="/assets/js/105.f816a53f.js"><link rel="prefetch" href="/assets/js/106.733f124a.js"><link rel="prefetch" href="/assets/js/107.56869b60.js"><link rel="prefetch" href="/assets/js/108.3b38c6c7.js"><link rel="prefetch" href="/assets/js/109.94aa2dad.js"><link rel="prefetch" href="/assets/js/11.2ba03d24.js"><link rel="prefetch" href="/assets/js/110.68ed9d99.js"><link rel="prefetch" href="/assets/js/111.47d224fb.js"><link rel="prefetch" href="/assets/js/112.92058008.js"><link rel="prefetch" href="/assets/js/113.6375d29c.js"><link rel="prefetch" href="/assets/js/114.2aa5321e.js"><link rel="prefetch" href="/assets/js/115.b3db07ee.js"><link rel="prefetch" href="/assets/js/116.8a1c3b8d.js"><link rel="prefetch" href="/assets/js/117.d5e0ce7c.js"><link rel="prefetch" href="/assets/js/118.25280c47.js"><link rel="prefetch" href="/assets/js/119.bd12a837.js"><link rel="prefetch" href="/assets/js/12.21d90d43.js"><link rel="prefetch" href="/assets/js/120.cf39aee3.js"><link rel="prefetch" href="/assets/js/121.0b4bd6d1.js"><link rel="prefetch" href="/assets/js/122.1476048a.js"><link rel="prefetch" href="/assets/js/123.072a61c4.js"><link rel="prefetch" href="/assets/js/124.74b9b819.js"><link rel="prefetch" href="/assets/js/125.39b45f89.js"><link rel="prefetch" href="/assets/js/126.41f80809.js"><link rel="prefetch" href="/assets/js/127.b0736402.js"><link rel="prefetch" href="/assets/js/128.1fb8ccad.js"><link rel="prefetch" href="/assets/js/129.2f787cbe.js"><link rel="prefetch" href="/assets/js/13.0f27187b.js"><link rel="prefetch" href="/assets/js/130.7c706a1b.js"><link rel="prefetch" href="/assets/js/131.454dea29.js"><link rel="prefetch" href="/assets/js/132.2c99b390.js"><link rel="prefetch" href="/assets/js/133.5e7a062e.js"><link rel="prefetch" href="/assets/js/134.698fcac5.js"><link rel="prefetch" href="/assets/js/135.0927c09d.js"><link rel="prefetch" href="/assets/js/136.92f64020.js"><link rel="prefetch" href="/assets/js/137.e7a496c1.js"><link rel="prefetch" href="/assets/js/138.c49405f9.js"><link rel="prefetch" href="/assets/js/139.6d525dff.js"><link rel="prefetch" href="/assets/js/14.37cfb7ec.js"><link rel="prefetch" href="/assets/js/140.ea4034ae.js"><link rel="prefetch" href="/assets/js/141.42c47028.js"><link rel="prefetch" href="/assets/js/142.2a596565.js"><link rel="prefetch" href="/assets/js/143.7a25e6d0.js"><link rel="prefetch" href="/assets/js/144.691ba573.js"><link rel="prefetch" href="/assets/js/145.451c84b2.js"><link rel="prefetch" href="/assets/js/146.c58aad4d.js"><link rel="prefetch" href="/assets/js/147.14e33880.js"><link rel="prefetch" href="/assets/js/148.dc004fa0.js"><link rel="prefetch" href="/assets/js/149.796b6042.js"><link rel="prefetch" href="/assets/js/15.60fb29f9.js"><link rel="prefetch" href="/assets/js/150.6530b023.js"><link rel="prefetch" href="/assets/js/151.3b952e8d.js"><link rel="prefetch" href="/assets/js/152.3f2f388d.js"><link rel="prefetch" href="/assets/js/153.6ba4e855.js"><link rel="prefetch" href="/assets/js/154.f557f602.js"><link rel="prefetch" href="/assets/js/155.fb76b40f.js"><link rel="prefetch" href="/assets/js/156.5948fe65.js"><link rel="prefetch" href="/assets/js/157.151487c7.js"><link rel="prefetch" href="/assets/js/158.00a34e8c.js"><link rel="prefetch" href="/assets/js/159.62516579.js"><link rel="prefetch" href="/assets/js/16.3397d53a.js"><link rel="prefetch" href="/assets/js/160.5d00af70.js"><link rel="prefetch" href="/assets/js/161.47029ec1.js"><link rel="prefetch" href="/assets/js/162.be5e5fba.js"><link rel="prefetch" href="/assets/js/163.e77c1245.js"><link rel="prefetch" href="/assets/js/164.88efbd66.js"><link rel="prefetch" href="/assets/js/165.1f41cdc9.js"><link rel="prefetch" href="/assets/js/166.ea7cad3b.js"><link rel="prefetch" href="/assets/js/167.0e792449.js"><link rel="prefetch" href="/assets/js/168.24c5f8fa.js"><link rel="prefetch" href="/assets/js/169.91d4193a.js"><link rel="prefetch" href="/assets/js/17.41c8b4be.js"><link rel="prefetch" href="/assets/js/170.de8c350e.js"><link rel="prefetch" href="/assets/js/171.bd13c3e6.js"><link rel="prefetch" href="/assets/js/172.e92547cc.js"><link rel="prefetch" href="/assets/js/173.48adacbe.js"><link rel="prefetch" href="/assets/js/174.4025f9fb.js"><link rel="prefetch" href="/assets/js/175.077a1493.js"><link rel="prefetch" href="/assets/js/176.23e53cba.js"><link rel="prefetch" href="/assets/js/177.e249cab3.js"><link rel="prefetch" href="/assets/js/178.c8b50de1.js"><link rel="prefetch" href="/assets/js/179.a655a170.js"><link rel="prefetch" href="/assets/js/18.6ed2a275.js"><link rel="prefetch" href="/assets/js/180.e012303f.js"><link rel="prefetch" href="/assets/js/181.e67878a5.js"><link rel="prefetch" href="/assets/js/182.461aefee.js"><link rel="prefetch" href="/assets/js/183.65704394.js"><link rel="prefetch" href="/assets/js/184.8c2fa11d.js"><link rel="prefetch" href="/assets/js/185.8dbe0491.js"><link rel="prefetch" href="/assets/js/186.41930a89.js"><link rel="prefetch" href="/assets/js/187.5f1639c0.js"><link rel="prefetch" href="/assets/js/188.a1907fa6.js"><link rel="prefetch" href="/assets/js/189.a4a4c8ce.js"><link rel="prefetch" href="/assets/js/19.5fe3a789.js"><link rel="prefetch" href="/assets/js/190.41f0d990.js"><link rel="prefetch" href="/assets/js/191.20fec614.js"><link rel="prefetch" href="/assets/js/192.0a44742f.js"><link rel="prefetch" href="/assets/js/193.9ed3135d.js"><link rel="prefetch" href="/assets/js/194.7480a471.js"><link rel="prefetch" href="/assets/js/195.ae499121.js"><link rel="prefetch" href="/assets/js/196.3521feb6.js"><link rel="prefetch" href="/assets/js/197.50ccd59b.js"><link rel="prefetch" href="/assets/js/198.04f143f5.js"><link rel="prefetch" href="/assets/js/199.7919c9f2.js"><link rel="prefetch" href="/assets/js/20.bd4d825b.js"><link rel="prefetch" href="/assets/js/200.bc8eed85.js"><link rel="prefetch" href="/assets/js/201.4a13dfee.js"><link rel="prefetch" href="/assets/js/202.8ea2cf42.js"><link rel="prefetch" href="/assets/js/21.6fe0d5e8.js"><link rel="prefetch" href="/assets/js/22.cdabac58.js"><link rel="prefetch" href="/assets/js/23.8a55de06.js"><link rel="prefetch" href="/assets/js/24.e790c4cb.js"><link rel="prefetch" href="/assets/js/25.69203a0c.js"><link rel="prefetch" href="/assets/js/26.be44d324.js"><link rel="prefetch" href="/assets/js/27.5023c005.js"><link rel="prefetch" href="/assets/js/28.7b5c89c1.js"><link rel="prefetch" href="/assets/js/29.10672cc2.js"><link rel="prefetch" href="/assets/js/3.910e2955.js"><link rel="prefetch" href="/assets/js/30.89b2c82c.js"><link rel="prefetch" href="/assets/js/31.61dc22f3.js"><link rel="prefetch" href="/assets/js/32.a9ac154b.js"><link rel="prefetch" href="/assets/js/33.0532e33e.js"><link rel="prefetch" href="/assets/js/34.0bbcb346.js"><link rel="prefetch" href="/assets/js/35.c88dc9be.js"><link rel="prefetch" href="/assets/js/36.a9b75127.js"><link rel="prefetch" href="/assets/js/37.aae8067d.js"><link rel="prefetch" href="/assets/js/38.870e74cb.js"><link rel="prefetch" href="/assets/js/4.2696ed11.js"><link rel="prefetch" href="/assets/js/40.d933c874.js"><link rel="prefetch" href="/assets/js/41.80b5eecd.js"><link rel="prefetch" href="/assets/js/42.994430ef.js"><link rel="prefetch" href="/assets/js/43.9c8c5846.js"><link rel="prefetch" href="/assets/js/44.90dfade3.js"><link rel="prefetch" href="/assets/js/45.752e2232.js"><link rel="prefetch" href="/assets/js/46.b2b504ac.js"><link rel="prefetch" href="/assets/js/47.550f8859.js"><link rel="prefetch" href="/assets/js/48.7672f625.js"><link rel="prefetch" href="/assets/js/49.1a4e9f99.js"><link rel="prefetch" href="/assets/js/5.a2c4f17f.js"><link rel="prefetch" href="/assets/js/50.2085aabb.js"><link rel="prefetch" href="/assets/js/51.b6ce3a08.js"><link rel="prefetch" href="/assets/js/52.45d58246.js"><link rel="prefetch" href="/assets/js/53.208a67d4.js"><link rel="prefetch" href="/assets/js/54.bb769d79.js"><link rel="prefetch" href="/assets/js/55.89b95a93.js"><link rel="prefetch" href="/assets/js/56.3026cb8f.js"><link rel="prefetch" href="/assets/js/57.798cb77c.js"><link rel="prefetch" href="/assets/js/58.2810462e.js"><link rel="prefetch" href="/assets/js/59.9032c1cf.js"><link rel="prefetch" href="/assets/js/6.3ea1f18d.js"><link rel="prefetch" href="/assets/js/60.99a9647b.js"><link rel="prefetch" href="/assets/js/61.a222a13b.js"><link rel="prefetch" href="/assets/js/62.5817df23.js"><link rel="prefetch" href="/assets/js/63.afe34671.js"><link rel="prefetch" href="/assets/js/64.cc907df9.js"><link rel="prefetch" href="/assets/js/65.1ba66d94.js"><link rel="prefetch" href="/assets/js/66.613a225f.js"><link rel="prefetch" href="/assets/js/67.e1bbe5b2.js"><link rel="prefetch" href="/assets/js/68.279b60f0.js"><link rel="prefetch" href="/assets/js/69.01ae452a.js"><link rel="prefetch" href="/assets/js/7.17ceb011.js"><link rel="prefetch" href="/assets/js/70.f913d5c2.js"><link rel="prefetch" href="/assets/js/71.fe5b65d2.js"><link rel="prefetch" href="/assets/js/72.44446b3c.js"><link rel="prefetch" href="/assets/js/73.ba38ef2c.js"><link rel="prefetch" href="/assets/js/74.af07781f.js"><link rel="prefetch" href="/assets/js/75.6d850e0c.js"><link rel="prefetch" href="/assets/js/76.2f48e18c.js"><link rel="prefetch" href="/assets/js/77.9940f99a.js"><link rel="prefetch" href="/assets/js/78.06aab37a.js"><link rel="prefetch" href="/assets/js/79.106b9403.js"><link rel="prefetch" href="/assets/js/8.ef354ff8.js"><link rel="prefetch" href="/assets/js/80.15280883.js"><link rel="prefetch" href="/assets/js/81.9e9b7a9f.js"><link rel="prefetch" href="/assets/js/82.c875f581.js"><link rel="prefetch" href="/assets/js/83.4553c844.js"><link rel="prefetch" href="/assets/js/84.f17861fa.js"><link rel="prefetch" href="/assets/js/85.63731d34.js"><link rel="prefetch" href="/assets/js/86.b755bf69.js"><link rel="prefetch" href="/assets/js/87.f0773253.js"><link rel="prefetch" href="/assets/js/88.a9f36c99.js"><link rel="prefetch" href="/assets/js/89.89552f6a.js"><link rel="prefetch" href="/assets/js/9.0774635a.js"><link rel="prefetch" href="/assets/js/90.0e44d8ea.js"><link rel="prefetch" href="/assets/js/91.fde876cc.js"><link rel="prefetch" href="/assets/js/92.847e81aa.js"><link rel="prefetch" href="/assets/js/93.b0aee212.js"><link rel="prefetch" href="/assets/js/94.08301e08.js"><link rel="prefetch" href="/assets/js/95.9ee7d613.js"><link rel="prefetch" href="/assets/js/96.41756da0.js"><link rel="prefetch" href="/assets/js/97.0b1185fb.js"><link rel="prefetch" href="/assets/js/98.daba73ea.js"><link rel="prefetch" href="/assets/js/99.25230b60.js">
    <link rel="stylesheet" href="/assets/css/0.styles.26cb1efd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">编程之上</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  Javascript 立身之本
</a></li><li class="dropdown-item"><!----> <a href="/frontend/http/" class="nav-link">
  HTTP 必学技能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link router-link-active">
  React 小书
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  Vue 小书
</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">
  Webpack 不容错过
</a></li><li class="dropdown-item"><!----> <a href="/frontend/npm/" class="nav-link">
  Npm 辅助了解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/architect/" class="nav-link">
  前端架构
</a></li><li class="dropdown-item"><!----> <a href="/frontend/dva/" class="nav-link">
  Dva 快速了解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">
  Typescript 加持赋能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/chrome/" class="nav-link">
  Chrome 技巧操作
</a></li><li class="dropdown-item"><!----> <a href="/frontend/code-style/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejswx/" class="nav-link">
  Node.js 开发微信公众号
</a></li></ul></div></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构和工具" class="dropdown-title"><span class="title">架构和工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/architect/docker/" class="nav-link">
  Docker 小书
</a></li><li class="dropdown-item"><!----> <a href="/architect/git/" class="nav-link">
  Git 小书
</a></li><li class="dropdown-item"><!----> <a href="/architect/vscode/" class="nav-link">
  Vscode
</a></li><li class="dropdown-item"><!----> <a href="/architect/setting/" class="nav-link">
  配置
</a></li><li class="dropdown-item"><!----> <a href="/architect/cli/" class="nav-link">
  Cli
</a></li></ul></div></div><div class="nav-item"><a href="/app/" class="nav-link">
  应用
</a></div><div class="nav-item"><a href="/view/" class="nav-link">
  看法
</a></div> <a href="https://github.com/ruizhengyun/ruizhengyun.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  Javascript 立身之本
</a></li><li class="dropdown-item"><!----> <a href="/frontend/http/" class="nav-link">
  HTTP 必学技能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link router-link-active">
  React 小书
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  Vue 小书
</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">
  Webpack 不容错过
</a></li><li class="dropdown-item"><!----> <a href="/frontend/npm/" class="nav-link">
  Npm 辅助了解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/architect/" class="nav-link">
  前端架构
</a></li><li class="dropdown-item"><!----> <a href="/frontend/dva/" class="nav-link">
  Dva 快速了解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">
  Typescript 加持赋能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/chrome/" class="nav-link">
  Chrome 技巧操作
</a></li><li class="dropdown-item"><!----> <a href="/frontend/code-style/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejswx/" class="nav-link">
  Node.js 开发微信公众号
</a></li></ul></div></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构和工具" class="dropdown-title"><span class="title">架构和工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/architect/docker/" class="nav-link">
  Docker 小书
</a></li><li class="dropdown-item"><!----> <a href="/architect/git/" class="nav-link">
  Git 小书
</a></li><li class="dropdown-item"><!----> <a href="/architect/vscode/" class="nav-link">
  Vscode
</a></li><li class="dropdown-item"><!----> <a href="/architect/setting/" class="nav-link">
  配置
</a></li><li class="dropdown-item"><!----> <a href="/architect/cli/" class="nav-link">
  Cli
</a></li></ul></div></div><div class="nav-item"><a href="/app/" class="nav-link">
  应用
</a></div><div class="nav-item"><a href="/view/" class="nav-link">
  看法
</a></div> <a href="https://github.com/ruizhengyun/ruizhengyun.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>入门</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/react/" class="sidebar-link">前言</a></li><li><a href="/frontend/react/evolution.html" class="sidebar-link">趴一趴族谱</a></li><li><a href="/frontend/react/initialization.html" class="sidebar-link">初始化项目</a></li><li><a href="/frontend/react/first_component.html" class="sidebar-link">第一个组件</a></li><li><a href="/frontend/react/lifecycle.html" class="sidebar-link">生命周期</a></li><li><a href="/frontend/react/rendering.html" class="sidebar-link">页面渲染</a></li><li><a href="/frontend/react/handle.html" class="sidebar-link">事件处理</a></li><li><a href="/frontend/react/form.html" class="sidebar-link">表单</a></li><li><a href="/frontend/react/lifting_state_up.html" class="sidebar-link">状态提升</a></li><li><a href="/frontend/react/idea.html" class="active sidebar-link">react理念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/react/idea.html#产品需求" class="sidebar-link">产品需求</a></li><li class="sidebar-sub-header"><a href="/frontend/react/idea.html#第一步：将-ui-划分组件层级" class="sidebar-link">第一步：将 UI 划分组件层级</a></li><li class="sidebar-sub-header"><a href="/frontend/react/idea.html#第二步：用-react-创建一个静态版本" class="sidebar-link">第二步：用 React 创建一个静态版本</a></li><li class="sidebar-sub-header"><a href="/frontend/react/idea.html#定义-ui-状态的最小-但完整-表示" class="sidebar-link">定义 UI 状态的最小(但完整)表示</a></li><li class="sidebar-sub-header"><a href="/frontend/react/idea.html#第四步：确定你的-state-应该位于哪里" class="sidebar-link">第四步：确定你的 State 应该位于哪里</a></li><li class="sidebar-sub-header"><a href="/frontend/react/idea.html#第五步：添加反向数据流" class="sidebar-link">第五步：添加反向数据流</a></li><li class="sidebar-sub-header"><a href="/frontend/react/idea.html#总结一下" class="sidebar-link">总结一下</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>应用</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react理念"><a href="#react理念" class="header-anchor">#</a> react理念</h1> <blockquote><p>在我们的理念中，React 最初的目的是使用 JavaScript 创建大型的，快速响应的网络应用。</p></blockquote> <p>React的众多优点之一是它让你在编写代码的时候同时也在思考你的应用。在这篇文档中，我们使用 React 一起创建一个可搜索的产品数据表格，并展示思考过程。</p> <h2 id="产品需求"><a href="#产品需求" class="header-anchor">#</a> 产品需求</h2> <p>我们已经有一个 JSON 接口和一个设计师给我们的原型图。原型图像下面这样：</p> <p><img src="data:image/png;base64,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" alt="产品需求"></p> <p>JSON 接口返回类似下面的数据：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>category<span class="token operator">:</span> <span class="token string">&quot;Sporting Goods&quot;</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">&quot;$49.99&quot;</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;Football&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>category<span class="token operator">:</span> <span class="token string">&quot;Sporting Goods&quot;</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">&quot;$9.99&quot;</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;Baseball&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>category<span class="token operator">:</span> <span class="token string">&quot;Sporting Goods&quot;</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">&quot;$29.99&quot;</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;Basketball&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>category<span class="token operator">:</span> <span class="token string">&quot;Electronics&quot;</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">&quot;$99.99&quot;</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;iPod Touch&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>category<span class="token operator">:</span> <span class="token string">&quot;Electronics&quot;</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">&quot;$399.99&quot;</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;iPhone 5&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>category<span class="token operator">:</span> <span class="token string">&quot;Electronics&quot;</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">&quot;$199.99&quot;</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;Nexus 7&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="第一步：将-ui-划分组件层级"><a href="#第一步：将-ui-划分组件层级" class="header-anchor">#</a> 第一步：将 UI 划分组件层级</h2> <p>如何知道哪一部分应该成为一个组件？想想在编写代码时你在什么情况下需要新建一个函数或对象，思考方式是一样的。例如 单一功能原则，在理想状况下，一个组件应该只做一件事情。如果这个组件功能不断丰富，它应该被分成更小的组件。</p> <p><img src="data:image/png;base64,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" alt="将 UI 划分组件层级"></p> <p>一共划分了 5 个组件，每个组件展示的数据用斜体表示</p> <ul><li><strong>FilterableProductTable (橙色)</strong>: 包含了整个例子</li> <li><strong>SearchBar (蓝色)</strong>: 接受所有的用户输入</li> <li><strong>ProductTable (绿色)</strong>: 根据用户输入过滤并展示数据集合</li> <li><strong>ProductCategoryRow (绿松石色)</strong>: 展示每个分类的标题</li> <li><strong>ProductRow (红色)</strong>: 用行来展示每个产品</li></ul> <blockquote><p>注：表头(包含 Name 和 Price 标签)并没有作为一个组件。这是一个偏好问题，选择哪种方式还得具体情况具体分析。在这个例子中，把它作为 <code>ProductTable</code> 的一部分，因为它是渲染数据集合的一部分，而渲染数据集合是 <code>ProductTable</code> 的职责。然而，如果头部变得更加复杂(如果我们添加了排序功能)，它就有足够的理由成为<strong>一个单独的 <code>ProductTableHeader</code> 组件</strong>。</p></blockquote> <p>确定了原型图中的组件，然后把它们整理成层级结构（原型图中的子组件在层级结构中应该作为子节点）。</p> <ul><li>FilterableProductTable
<ul><li>SearchBar</li> <li>ProductTable
<ul><li>ProductCategoryRow</li> <li>ProductRow</li></ul></li></ul></li></ul> <h2 id="第二步：用-react-创建一个静态版本"><a href="#第二步：用-react-创建一个静态版本" class="header-anchor">#</a> 第二步：用 React 创建一个静态版本</h2> <p>先创建一个静态版本：传入数据模型，渲染 UI 但没有任何交互。最好把这些过程解耦，因为创建一个静态版本更多需要的是码代码，不太需要逻辑思考，而添加交互则更多需要的是逻辑思考，不是码代码。</p> <p>构建这样一个用于呈现数据模型的静态版本的应用程序，需要创建能够复用其他组件的组件，并通过 <code>props</code> 来传递数据。<code>props</code> 是一种<strong>从父级向子级传递数据</strong>的方法。如果你熟悉 <code>state</code> 的概念，在创建静态版本的时候不要使用 <code>state</code>。<code>state</code> 只在<strong>交互的时候使用，即随时间变化的数据</strong>。由于这是静态版本的应用，你不需要使用它。</p> <blockquote><p>注：是自顶向下还是自底向上构建应用？</p></blockquote> <blockquote><ul><li>简单的例子中，通常自顶向下更容易</li> <li>较大的项目中，自底向上会更容易并且在你构建的时候有利于编写测试</li></ul></blockquote> <h2 id="定义-ui-状态的最小-但完整-表示"><a href="#定义-ui-状态的最小-但完整-表示" class="header-anchor">#</a> 定义 UI 状态的最小(但完整)表示</h2> <p>为了正确构建应用，首先你需要考虑应用所需要的最小可变状态集。要点是 DRY：不要重复(Don’t Repeat Yourself)。找出应用程序的绝对最小表示并计算你所需要的其他任何请求。</p> <p>比如这个例子</p> <ul><li>原产品列表</li> <li>用户输入的搜索文本</li> <li>复选框的值</li> <li>产品的筛选列表</li></ul> <p>找出哪一个是 <code>state</code>。每个数据只要考虑三个问题：</p> <ul><li>它是通过 <code>props</code> 从父级传来的吗？如果是，他可能不是 <code>state</code>。</li> <li>它随着时间推移不变吗？如果是，它可能不是 <code>state</code>。</li> <li>你能够根据组件中任何其他的 <code>state</code> 或 <code>props</code> 把它计算出来吗？如果是，它不是 <code>state</code>。</li></ul> <p>可推导出</p> <ul><li>原产品列表被作为 <code>props</code> 传入，所以它不是 <code>state</code>。</li> <li>搜索文本和复选框似乎是 <code>state</code>，因为它们随时间改变并且不能由其他任何值计算出来。</li> <li>产品的筛选列表不是 <code>state</code>，因为它可以通过将原始产品列表与搜索文本和复选框的值组合计算出来。</li></ul> <h2 id="第四步：确定你的-state-应该位于哪里"><a href="#第四步：确定你的-state-应该位于哪里" class="header-anchor">#</a> 第四步：确定你的 State 应该位于哪里</h2> <p>现在我们确定了应用 <code>state</code> 的最小集合。接下来，我们需要确定哪个组件会改变，或拥有这个 <code>state</code>。</p> <p>记住：React 中的<strong>数据流是单向的</strong>，并在组件层次结构中向下传递。一开始我们可能不是很清楚哪个组件应该拥有哪个 <code>state</code>。<strong>在新手理解上这通常是最富有挑战性的部分</strong>，所以按照下面的步骤来辨别：</p> <h3 id="对你应用的每一个-state-的策略"><a href="#对你应用的每一个-state-的策略" class="header-anchor">#</a> 对你应用的每一个 state 的策略</h3> <ul><li>确定每一个需要这个 <code>state</code> 来渲染的组件；</li> <li>找到一个公共所有者组件(一个在层级上高于所有其他需要这个 <code>state</code> 的组件的组件)；</li> <li>这个公共所有者组件或另一个层级更高的组件应该拥有这个 <code>state</code>；</li> <li>如果你没有找到可以拥有这个 <code>state</code> 的组件，创建一个仅用来保存状态的组件并把它加入比这个公共所有者组件层级更高的地方；</li></ul> <h3 id="用这个策略分析我们的应用"><a href="#用这个策略分析我们的应用" class="header-anchor">#</a> 用这个策略分析我们的应用</h3> <ul><li><code>ProductTable</code> 需要根据 <code>state</code> 过滤产品列表，<code>SearchBar</code> 需要展示搜索文本和复选框状态；</li> <li>公共所有者组件是 <code>FilterableProductTable</code>；</li> <li>筛选文本和复选框的值应该放在 <code>FilterableProductTable</code>；</li></ul> <h3 id="实操"><a href="#实操" class="header-anchor">#</a> 实操</h3> <ul><li>所以我们决定把 <code>state</code> 放在 <code>FilterableProductTable</code>;</li> <li>为 <code>FilterableProductTable</code> 的 <code>constructor</code> 添加一个实例属性 <code>this.state = {filterText: '', inStockOnly: false }</code> 来表示我们应用的初始状态。</li> <li>把 <code>filterText</code> 和 <code>inStockOnly</code> 作为 <code>prop</code> 传入 <code>ProductTable</code> 和 <code>SearchBar</code>。最后在 <code>ProductTable</code> 中使用这些 <code>props</code> 来筛选每行产品信息，在 <code>SearchBar</code> 中设置表单域的值。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./index.less'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> category<span class="token operator">:</span> <span class="token string">'体育用品'</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">'￥49.99'</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'足球'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1001</span><span class="token punctuation">,</span> categoryId<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> category<span class="token operator">:</span> <span class="token string">'体育用品'</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">'￥9.99'</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'羽毛球'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1002</span><span class="token punctuation">,</span> categoryId<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> category<span class="token operator">:</span> <span class="token string">'体育用品'</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">'￥29.99'</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'篮球'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1003</span><span class="token punctuation">,</span> categoryId<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> category<span class="token operator">:</span> <span class="token string">'体育用品'</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">'￥39.99'</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'篮球'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">10031</span><span class="token punctuation">,</span> categoryId<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> category<span class="token operator">:</span> <span class="token string">'电子类'</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">'￥99.99'</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'华为 Mate20'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1004</span><span class="token punctuation">,</span> categoryId<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> category<span class="token operator">:</span> <span class="token string">'电子类'</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">'￥399.99'</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'苹果 6s'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1005</span><span class="token punctuation">,</span> categoryId<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> category<span class="token operator">:</span> <span class="token string">'电子类'</span><span class="token punctuation">,</span> price<span class="token operator">:</span> <span class="token string">'￥199.99'</span><span class="token punctuation">,</span> stocked<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'锤子 pro'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1006</span><span class="token punctuation">,</span> categoryId<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 红色-用行来展示每个产品</span>
<span class="token keyword">const</span> <span class="token function-variable function">ProductRow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  product<span class="token operator">:</span> <span class="token punctuation">{</span>
    stocked<span class="token punctuation">,</span>
    name<span class="token punctuation">,</span>
    price
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token punctuation">{</span>stocked <span class="token operator">?</span> name <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>span style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token punctuation">{</span>stocked <span class="token operator">?</span> price <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>span style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> color<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>price<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 绿松石色-展示每个分类的标题</span>
<span class="token keyword">const</span> <span class="token function-variable function">ProductCategoryRow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  category
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>th colSpan<span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>category<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 绿色-根据用户输入过滤并展示数据集合</span>
<span class="token keyword">const</span> <span class="token function-variable function">ProductTable</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  filterText<span class="token punctuation">,</span>
  inStockOnly<span class="token punctuation">,</span>
  data
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> rows <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> lastCategory <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">product</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>filterText<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token operator">!</span>product<span class="token punctuation">.</span>stocked <span class="token operator">&amp;&amp;</span> inStockOnly<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>product<span class="token punctuation">.</span>category <span class="token operator">!==</span> lastCategory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      rows<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>ProductCategoryRow category<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>category<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>categoryId<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    rows<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>ProductRow product<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>id<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lastCategory <span class="token operator">=</span> product<span class="token punctuation">.</span>category<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>table className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>table<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>thead<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>品名<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>价格<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>tbody<span class="token operator">&gt;</span><span class="token punctuation">{</span>rows<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 蓝色-接受所有的用户输入</span>
<span class="token keyword">const</span> <span class="token function-variable function">SearchBar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  filterText<span class="token punctuation">,</span>
  inStockOnly<span class="token punctuation">,</span>
  onFilterTextInput<span class="token punctuation">,</span>
  onInStockInput<span class="token punctuation">,</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleFilterTextInputChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onFilterTextInput</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleInStockInputChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">onInStockInput</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input
        type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
        className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>input<span class="token punctuation">}</span>
        placeholder<span class="token operator">=</span><span class="token string">&quot;我想...&quot;</span>
        value<span class="token operator">=</span><span class="token punctuation">{</span>filterText<span class="token punctuation">}</span>
        onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleFilterTextInputChange<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>input
            type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span>
            checked<span class="token operator">=</span><span class="token punctuation">{</span>inStockOnly<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleInStockInputChange<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">}</span>
          仅显示库存产品
        <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 橙色-整个例子</span>
<span class="token keyword">class</span> <span class="token class-name">FilterableProductTable</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      filterText<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      inStockOnly<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleFilterTextInput</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filterText<span class="token operator">:</span> value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleInStockInput</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      inStockOnly<span class="token operator">:</span> value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> searchBarProps <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span>
      onFilterTextInput<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleFilterTextInput<span class="token punctuation">,</span>
      onInStockInput<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleInStockInput<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> productTableProps <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span>
      data
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>SearchBar <span class="token punctuation">{</span><span class="token operator">...</span>searchBarProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ProductTable <span class="token punctuation">{</span><span class="token operator">...</span>productTableProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FilterableProductTable<span class="token punctuation">;</span>
</code></pre></div><h2 id="第五步：添加反向数据流"><a href="#第五步：添加反向数据流" class="header-anchor">#</a> 第五步：添加反向数据流</h2> <p>到目前为止，我们已经创建了一个可以正确渲染的应用程序，它的数据在层级中通过函数的 <code>props</code> 和 <code>state</code> 向下流动。现在是时候支持其他方式的数据流了：层级结构中最底层的表单组件需要去更新在 <code>FilterableProductTable</code> 中的 <code>state</code>（即子组件向父组件传参）。</p> <ul><li>每当用户更改表单时，更新状态来反应用户输入。因为组件应该只更新自己的状态，<code>FilterableProductTable</code> 会将一个回调函数传递给 <code>SearchBar</code> ，每当应该更新状态时，它就会触发。使用输入上的 <code>onChange</code> 事件来调用它。<code>FilterableProductTable</code> 传入的回调函数会调用 <code>setState()</code>，这时应用程序就被更新。</li></ul> <h2 id="总结一下"><a href="#总结一下" class="header-anchor">#</a> 总结一下</h2> <p>按照上面步骤使用 react 构建组件和应用程序，虽然可能比之前编写更多代码。但是，越是大型组件库或应用，这种方式会让你喜欢上 react 的设计思路和模块化思想，并且随着代码复用性的提高，你会发现之前编写代码量其实并不多。</p> <p>对于父子组件参数传递，可看<a href="http://ruizhengyun.cn/tutorial/react/basics/first_component.html" target="_blank" rel="noopener noreferrer">第一个组件-组件参数<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend/react/lifting_state_up.html" class="prev">
        状态提升
      </a></span> <span class="next"><a href="/frontend/react/accessibility.html">
        可访问性
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9773433b.js" defer></script><script src="/assets/js/2.0fefc561.js" defer></script><script src="/assets/js/39.76f5de0e.js" defer></script>
  </body>
</html>
