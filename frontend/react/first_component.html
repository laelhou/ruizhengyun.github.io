<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>组件 | 编程之上</title>
    <meta name="description" content="编程之上，致力于前后端、DevOps 等，突破瓶颈进一步成长。记录生活，不辜负自己。">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/assets/css/0.styles.26cb1efd.css" as="style"><link rel="preload" href="/assets/js/app.b30fd5ce.js" as="script"><link rel="preload" href="/assets/js/2.0fefc561.js" as="script"><link rel="preload" href="/assets/js/37.4ad5ce3c.js" as="script"><link rel="prefetch" href="/assets/js/10.fb7f6e64.js"><link rel="prefetch" href="/assets/js/100.78293478.js"><link rel="prefetch" href="/assets/js/101.399adca1.js"><link rel="prefetch" href="/assets/js/102.94cde9a2.js"><link rel="prefetch" href="/assets/js/103.3ce45cc4.js"><link rel="prefetch" href="/assets/js/104.faee4625.js"><link rel="prefetch" href="/assets/js/105.61ca06cb.js"><link rel="prefetch" href="/assets/js/106.b6320f3b.js"><link rel="prefetch" href="/assets/js/107.16829d1f.js"><link rel="prefetch" href="/assets/js/108.d6ec136b.js"><link rel="prefetch" href="/assets/js/109.cc653ead.js"><link rel="prefetch" href="/assets/js/11.2ba03d24.js"><link rel="prefetch" href="/assets/js/110.113429a8.js"><link rel="prefetch" href="/assets/js/111.ab62c78c.js"><link rel="prefetch" href="/assets/js/112.41add764.js"><link rel="prefetch" href="/assets/js/113.2baa3bf8.js"><link rel="prefetch" href="/assets/js/114.9a94b1f1.js"><link rel="prefetch" href="/assets/js/115.4b99397d.js"><link rel="prefetch" href="/assets/js/116.e749794e.js"><link rel="prefetch" href="/assets/js/117.6382651c.js"><link rel="prefetch" href="/assets/js/118.dab04859.js"><link rel="prefetch" href="/assets/js/119.45adf40f.js"><link rel="prefetch" href="/assets/js/12.e46ed0b2.js"><link rel="prefetch" href="/assets/js/120.ae62e659.js"><link rel="prefetch" href="/assets/js/121.5f7a9331.js"><link rel="prefetch" href="/assets/js/122.92760547.js"><link rel="prefetch" href="/assets/js/123.0da4cdc2.js"><link rel="prefetch" href="/assets/js/124.50c41854.js"><link rel="prefetch" href="/assets/js/125.548648ed.js"><link rel="prefetch" href="/assets/js/126.3d1af908.js"><link rel="prefetch" href="/assets/js/127.6a971c21.js"><link rel="prefetch" href="/assets/js/128.5c1a01fa.js"><link rel="prefetch" href="/assets/js/129.2d489e8c.js"><link rel="prefetch" href="/assets/js/13.c636328c.js"><link rel="prefetch" href="/assets/js/130.a222a5db.js"><link rel="prefetch" href="/assets/js/131.71e69ca6.js"><link rel="prefetch" href="/assets/js/132.22f38ed6.js"><link rel="prefetch" href="/assets/js/133.cef250f0.js"><link rel="prefetch" href="/assets/js/134.5e0fd02e.js"><link rel="prefetch" href="/assets/js/135.0b13c0f1.js"><link rel="prefetch" href="/assets/js/136.7656b697.js"><link rel="prefetch" href="/assets/js/137.1fd139df.js"><link rel="prefetch" href="/assets/js/138.1a0a1bab.js"><link rel="prefetch" href="/assets/js/139.4d39846a.js"><link rel="prefetch" href="/assets/js/14.a449e73c.js"><link rel="prefetch" href="/assets/js/140.81d89694.js"><link rel="prefetch" href="/assets/js/141.4cd06887.js"><link rel="prefetch" href="/assets/js/142.f49c2bb7.js"><link rel="prefetch" href="/assets/js/143.c68b8578.js"><link rel="prefetch" href="/assets/js/144.01eee2ad.js"><link rel="prefetch" href="/assets/js/145.d352d91b.js"><link rel="prefetch" href="/assets/js/146.d19ad647.js"><link rel="prefetch" href="/assets/js/147.63e4f011.js"><link rel="prefetch" href="/assets/js/148.339c4430.js"><link rel="prefetch" href="/assets/js/149.f6a0bb09.js"><link rel="prefetch" href="/assets/js/15.3516ba92.js"><link rel="prefetch" href="/assets/js/150.5c1da897.js"><link rel="prefetch" href="/assets/js/151.654745ae.js"><link rel="prefetch" href="/assets/js/152.2860ca24.js"><link rel="prefetch" href="/assets/js/153.565aa1a4.js"><link rel="prefetch" href="/assets/js/154.1f4f2b59.js"><link rel="prefetch" href="/assets/js/155.4a4b79dd.js"><link rel="prefetch" href="/assets/js/156.13a46d0e.js"><link rel="prefetch" href="/assets/js/157.87ba7112.js"><link rel="prefetch" href="/assets/js/158.9b421a5c.js"><link rel="prefetch" href="/assets/js/159.b11af3ee.js"><link rel="prefetch" href="/assets/js/16.29cb54e7.js"><link rel="prefetch" href="/assets/js/160.c4e88f26.js"><link rel="prefetch" href="/assets/js/161.0f5e63a3.js"><link rel="prefetch" href="/assets/js/162.420a7e83.js"><link rel="prefetch" href="/assets/js/163.03830726.js"><link rel="prefetch" href="/assets/js/164.b6f88142.js"><link rel="prefetch" href="/assets/js/165.f6e17a91.js"><link rel="prefetch" href="/assets/js/166.61f188fa.js"><link rel="prefetch" href="/assets/js/167.ef3494d7.js"><link rel="prefetch" href="/assets/js/168.dc44c683.js"><link rel="prefetch" href="/assets/js/169.0684fc1b.js"><link rel="prefetch" href="/assets/js/17.26ef7029.js"><link rel="prefetch" href="/assets/js/170.7c27182d.js"><link rel="prefetch" href="/assets/js/171.7ffa166e.js"><link rel="prefetch" href="/assets/js/172.63c18693.js"><link rel="prefetch" href="/assets/js/173.acc5ae95.js"><link rel="prefetch" href="/assets/js/174.e2259fa0.js"><link rel="prefetch" href="/assets/js/175.e3a805a9.js"><link rel="prefetch" href="/assets/js/176.9b405b2b.js"><link rel="prefetch" href="/assets/js/177.48395203.js"><link rel="prefetch" href="/assets/js/178.a190450e.js"><link rel="prefetch" href="/assets/js/179.f72f8167.js"><link rel="prefetch" href="/assets/js/18.015c821c.js"><link rel="prefetch" href="/assets/js/180.2f77248c.js"><link rel="prefetch" href="/assets/js/181.3f7e97a1.js"><link rel="prefetch" href="/assets/js/182.ae2fa17f.js"><link rel="prefetch" href="/assets/js/183.3140df5e.js"><link rel="prefetch" href="/assets/js/184.dfda6632.js"><link rel="prefetch" href="/assets/js/185.29013d5d.js"><link rel="prefetch" href="/assets/js/186.cdaf937c.js"><link rel="prefetch" href="/assets/js/187.44b7523d.js"><link rel="prefetch" href="/assets/js/188.3084ecb8.js"><link rel="prefetch" href="/assets/js/189.4cd41e28.js"><link rel="prefetch" href="/assets/js/19.c3124624.js"><link rel="prefetch" href="/assets/js/190.13bbe264.js"><link rel="prefetch" href="/assets/js/191.bb8d83a3.js"><link rel="prefetch" href="/assets/js/192.d34010db.js"><link rel="prefetch" href="/assets/js/193.6342a6fb.js"><link rel="prefetch" href="/assets/js/194.434e80a7.js"><link rel="prefetch" href="/assets/js/195.4300dcdb.js"><link rel="prefetch" href="/assets/js/196.34c5a1f2.js"><link rel="prefetch" href="/assets/js/197.a137d214.js"><link rel="prefetch" href="/assets/js/198.becdf35f.js"><link rel="prefetch" href="/assets/js/199.49d517ad.js"><link rel="prefetch" href="/assets/js/20.ae28ccbd.js"><link rel="prefetch" href="/assets/js/200.8ddd6055.js"><link rel="prefetch" href="/assets/js/201.abd13c28.js"><link rel="prefetch" href="/assets/js/202.a9ac1c05.js"><link rel="prefetch" href="/assets/js/203.1e259ef3.js"><link rel="prefetch" href="/assets/js/204.3cf9a66c.js"><link rel="prefetch" href="/assets/js/21.6fe0d5e8.js"><link rel="prefetch" href="/assets/js/22.cdabac58.js"><link rel="prefetch" href="/assets/js/23.4beb27d2.js"><link rel="prefetch" href="/assets/js/24.8c158910.js"><link rel="prefetch" href="/assets/js/25.ae637784.js"><link rel="prefetch" href="/assets/js/26.c65d1413.js"><link rel="prefetch" href="/assets/js/27.16b0cdba.js"><link rel="prefetch" href="/assets/js/28.10666916.js"><link rel="prefetch" href="/assets/js/29.c77cc405.js"><link rel="prefetch" href="/assets/js/3.edc92ee2.js"><link rel="prefetch" href="/assets/js/30.d177aea5.js"><link rel="prefetch" href="/assets/js/31.61dc22f3.js"><link rel="prefetch" href="/assets/js/32.a9ac154b.js"><link rel="prefetch" href="/assets/js/33.0532e33e.js"><link rel="prefetch" href="/assets/js/34.37d32627.js"><link rel="prefetch" href="/assets/js/35.54668e34.js"><link rel="prefetch" href="/assets/js/36.28e3c187.js"><link rel="prefetch" href="/assets/js/38.3da98388.js"><link rel="prefetch" href="/assets/js/39.db470b13.js"><link rel="prefetch" href="/assets/js/4.9ba05028.js"><link rel="prefetch" href="/assets/js/40.a6f6e00f.js"><link rel="prefetch" href="/assets/js/41.f0d27215.js"><link rel="prefetch" href="/assets/js/42.abbbeee9.js"><link rel="prefetch" href="/assets/js/43.9c8c5846.js"><link rel="prefetch" href="/assets/js/44.f3545fcb.js"><link rel="prefetch" href="/assets/js/45.752e2232.js"><link rel="prefetch" href="/assets/js/46.ad3d99e7.js"><link rel="prefetch" href="/assets/js/47.12da36ff.js"><link rel="prefetch" href="/assets/js/48.59016816.js"><link rel="prefetch" href="/assets/js/49.9e2e29ed.js"><link rel="prefetch" href="/assets/js/5.96ca53b5.js"><link rel="prefetch" href="/assets/js/50.18db32ec.js"><link rel="prefetch" href="/assets/js/51.22cd6105.js"><link rel="prefetch" href="/assets/js/52.49032485.js"><link rel="prefetch" href="/assets/js/53.bf3df69d.js"><link rel="prefetch" href="/assets/js/54.bb769d79.js"><link rel="prefetch" href="/assets/js/55.293428e8.js"><link rel="prefetch" href="/assets/js/56.edfdf4a1.js"><link rel="prefetch" href="/assets/js/57.b494a75e.js"><link rel="prefetch" href="/assets/js/58.cae8d018.js"><link rel="prefetch" href="/assets/js/59.9032c1cf.js"><link rel="prefetch" href="/assets/js/6.f5329b62.js"><link rel="prefetch" href="/assets/js/60.f6c35aa6.js"><link rel="prefetch" href="/assets/js/61.a222a13b.js"><link rel="prefetch" href="/assets/js/62.5817df23.js"><link rel="prefetch" href="/assets/js/63.afe34671.js"><link rel="prefetch" href="/assets/js/64.cc907df9.js"><link rel="prefetch" href="/assets/js/65.1ba66d94.js"><link rel="prefetch" href="/assets/js/66.613a225f.js"><link rel="prefetch" href="/assets/js/67.e1bbe5b2.js"><link rel="prefetch" href="/assets/js/68.279b60f0.js"><link rel="prefetch" href="/assets/js/69.01ae452a.js"><link rel="prefetch" href="/assets/js/7.17ceb011.js"><link rel="prefetch" href="/assets/js/70.f913d5c2.js"><link rel="prefetch" href="/assets/js/71.9ec90d1d.js"><link rel="prefetch" href="/assets/js/72.e7f3b284.js"><link rel="prefetch" href="/assets/js/73.0033356c.js"><link rel="prefetch" href="/assets/js/74.82cc30a5.js"><link rel="prefetch" href="/assets/js/75.68d7bd80.js"><link rel="prefetch" href="/assets/js/76.349123ce.js"><link rel="prefetch" href="/assets/js/77.cd9abe29.js"><link rel="prefetch" href="/assets/js/78.1a0069a4.js"><link rel="prefetch" href="/assets/js/79.204ade20.js"><link rel="prefetch" href="/assets/js/8.ef354ff8.js"><link rel="prefetch" href="/assets/js/80.1c8b5102.js"><link rel="prefetch" href="/assets/js/81.d8ace964.js"><link rel="prefetch" href="/assets/js/82.21b43a23.js"><link rel="prefetch" href="/assets/js/83.df050efd.js"><link rel="prefetch" href="/assets/js/84.94cf97ad.js"><link rel="prefetch" href="/assets/js/85.71d172ff.js"><link rel="prefetch" href="/assets/js/86.6952d6ea.js"><link rel="prefetch" href="/assets/js/87.aee3c919.js"><link rel="prefetch" href="/assets/js/88.9acfc818.js"><link rel="prefetch" href="/assets/js/89.5921ae24.js"><link rel="prefetch" href="/assets/js/9.0774635a.js"><link rel="prefetch" href="/assets/js/90.c4932ed5.js"><link rel="prefetch" href="/assets/js/91.f6a0ed11.js"><link rel="prefetch" href="/assets/js/92.cac50c40.js"><link rel="prefetch" href="/assets/js/93.78c5e23e.js"><link rel="prefetch" href="/assets/js/94.10cd1147.js"><link rel="prefetch" href="/assets/js/95.2467121c.js"><link rel="prefetch" href="/assets/js/96.c1ac33de.js"><link rel="prefetch" href="/assets/js/97.56da6c87.js"><link rel="prefetch" href="/assets/js/98.66567525.js"><link rel="prefetch" href="/assets/js/99.d6d7033f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.26cb1efd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">编程之上</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  Javascript 立身之本
</a></li><li class="dropdown-item"><!----> <a href="/frontend/http/" class="nav-link">
  HTTP 必学技能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link router-link-active">
  React 小书
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  Vue 小书
</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">
  Webpack 不容错过
</a></li><li class="dropdown-item"><!----> <a href="/frontend/npm/" class="nav-link">
  Npm 辅助了解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/architect/" class="nav-link">
  前端架构
</a></li><li class="dropdown-item"><!----> <a href="/frontend/dva/" class="nav-link">
  Dva 快速了解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">
  Typescript 加持赋能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/chrome/" class="nav-link">
  Chrome 技巧操作
</a></li><li class="dropdown-item"><!----> <a href="/frontend/code-style/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejswx/" class="nav-link">
  Node.js 开发微信公众号
</a></li></ul></div></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构和工具" class="dropdown-title"><span class="title">架构和工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/architect/docker/" class="nav-link">
  Docker 小书
</a></li><li class="dropdown-item"><!----> <a href="/architect/git/" class="nav-link">
  Git 小书
</a></li><li class="dropdown-item"><!----> <a href="/architect/vscode/" class="nav-link">
  Vscode
</a></li><li class="dropdown-item"><!----> <a href="/architect/setting/" class="nav-link">
  配置
</a></li><li class="dropdown-item"><!----> <a href="/architect/cli/" class="nav-link">
  Cli
</a></li></ul></div></div><div class="nav-item"><a href="/app/" class="nav-link">
  应用
</a></div><div class="nav-item"><a href="/view/" class="nav-link">
  看法
</a></div> <a href="https://github.com/ruizhengyun/ruizhengyun.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  Javascript 立身之本
</a></li><li class="dropdown-item"><!----> <a href="/frontend/http/" class="nav-link">
  HTTP 必学技能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link router-link-active">
  React 小书
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  Vue 小书
</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">
  Webpack 不容错过
</a></li><li class="dropdown-item"><!----> <a href="/frontend/npm/" class="nav-link">
  Npm 辅助了解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/architect/" class="nav-link">
  前端架构
</a></li><li class="dropdown-item"><!----> <a href="/frontend/dva/" class="nav-link">
  Dva 快速了解
</a></li><li class="dropdown-item"><!----> <a href="/frontend/typescript/" class="nav-link">
  Typescript 加持赋能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/chrome/" class="nav-link">
  Chrome 技巧操作
</a></li><li class="dropdown-item"><!----> <a href="/frontend/code-style/" class="nav-link">
  代码规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/nodejs/" class="nav-link">
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejswx/" class="nav-link">
  Node.js 开发微信公众号
</a></li></ul></div></div><div class="nav-item"><a href="/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="架构和工具" class="dropdown-title"><span class="title">架构和工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/architect/docker/" class="nav-link">
  Docker 小书
</a></li><li class="dropdown-item"><!----> <a href="/architect/git/" class="nav-link">
  Git 小书
</a></li><li class="dropdown-item"><!----> <a href="/architect/vscode/" class="nav-link">
  Vscode
</a></li><li class="dropdown-item"><!----> <a href="/architect/setting/" class="nav-link">
  配置
</a></li><li class="dropdown-item"><!----> <a href="/architect/cli/" class="nav-link">
  Cli
</a></li></ul></div></div><div class="nav-item"><a href="/app/" class="nav-link">
  应用
</a></div><div class="nav-item"><a href="/view/" class="nav-link">
  看法
</a></div> <a href="https://github.com/ruizhengyun/ruizhengyun.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>入门</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/react/" class="sidebar-link">前言</a></li><li><a href="/frontend/react/evolution.html" class="sidebar-link">趴一趴族谱</a></li><li><a href="/frontend/react/initialization.html" class="sidebar-link">初始化项目</a></li><li><a href="/frontend/react/first_component.html" class="active sidebar-link">第一个组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#特点" class="sidebar-link">特点</a></li><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#分类" class="sidebar-link">分类</a></li><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#实现方式" class="sidebar-link">实现方式</a></li><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#语法" class="sidebar-link">语法</a></li><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#参数" class="sidebar-link">参数</a></li><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#状态" class="sidebar-link">状态</a></li><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#参数与状态区别" class="sidebar-link">参数与状态区别</a></li><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#提取组件" class="sidebar-link">提取组件</a></li><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#组件描述" class="sidebar-link">组件描述</a></li><li class="sidebar-sub-header"><a href="/frontend/react/first_component.html#jsx-语法" class="sidebar-link">JSX 语法</a></li></ul></li><li><a href="/frontend/react/lifecycle.html" class="sidebar-link">生命周期</a></li><li><a href="/frontend/react/rendering.html" class="sidebar-link">页面渲染</a></li><li><a href="/frontend/react/handle.html" class="sidebar-link">事件处理</a></li><li><a href="/frontend/react/form.html" class="sidebar-link">表单</a></li><li><a href="/frontend/react/lifting_state_up.html" class="sidebar-link">状态提升</a></li><li><a href="/frontend/react/idea.html" class="sidebar-link">react理念</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>应用</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="组件"><a href="#组件" class="header-anchor">#</a> 组件</h1> <p align="center"><img alt="dva-boot-admin" src="/assets/img/code.1a283544.png" width="140"></p> <p>页面卡片组件 <code>/src/components/Card/index.js</code> 就是一个组件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">'./index.css'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  title <span class="token operator">=</span> <span class="token string">&quot;标题&quot;</span><span class="token punctuation">,</span>
  children
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;card&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;card-header&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">&quot;card-title&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;card-body&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>按照功能划分，一张网页可以由多个互相独立的功能单位组成，这种功能单位就叫做“组件”（component）。比如，典型的网页分成页头、内容、页尾三个部分，就可以写成三个组件：<code>Header、Content、Footer</code>。这些组件拼装在一起，就构成了一张页面。</p> <p>组件内部还可以包含下一级的组件。比如，“文章”组件内部可以包含“表单”组件，“表单”组件内部又可以包含“按钮”组件。</p> <h2 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h2> <p>组件的好处有很多，下面是其中几点。</p> <ul><li>有利于细化 UI 逻辑，不同的组件负责不同的功能点。</li> <li>有利于代码复用，多个页面可以使用同样的组件。</li> <li>有利于人员分工，不同的工程师负责不同的组件。</li></ul> <h2 id="分类"><a href="#分类" class="header-anchor">#</a> 分类</h2> <p>就是我们经常实现的组件，可以是 <strong>类组件（class component）</strong> 或 <strong>函数式组件（functional component）</strong>。</p> <ul><li>类组件
<ul><li>普通类组件 <code>React.Component</code></li> <li>纯类组件 <code>React.PureComponent</code></li> <li>区别在于 <code>PureComponent</code> 基于 <code>shouldComponentUpdate</code> 做了一些优化</li></ul></li> <li>函数式组件：用来简化一些组件的时间，用起来就是写一个函数。入参是组件属性 <code>props</code>，出参与类组件的<code>render</code>方法返回值一样，是 <code>react element</code>（一个很重要的概念）。</li></ul> <h2 id="实现方式"><a href="#实现方式" class="header-anchor">#</a> 实现方式</h2> <p>下面是通过类组件和函数式组件实现的 <strong>Hello 组件</strong>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 普通类 Component</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>你好<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 纯类组件 PureComponent</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>你好<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数式组件 functional component</span>
<span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>你好<span class="token punctuation">,</span> <span class="token punctuation">{</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="语法"><a href="#语法" class="header-anchor">#</a> 语法</h2> <p>虽然输出 JSX 代码的函数就是一个 React 组件，但是这种写法只适合那些最简单的组件。更正式、更通用的组件写法，要使用 ES6 类（class）的语法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>你好<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Hello<span class="token punctuation">;</span>
</code></pre></div><p>上面代码定义了一个 <strong>Hello 组件</strong>。自定义的组件必须继承 <code>React.Component</code> 这个基类，然后必须有一个 <code>render</code> 方法，给出组件的输出。</p> <p>使用 React 组件也很简单，引入这个组件以后，就可以直接使用。假定上面的组件脚本叫做 Hello.js（为了是组件文件名与普通 js 文件区别，组件文件名首字母大写），那么使用它的代码如下。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'React'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">'./Hello.js'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Hello title<span class="token operator">=</span><span class="token string">&quot;这个美丽又遗憾的世界&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Home<span class="token punctuation">;</span>
</code></pre></div><p>上面代码中，我们新建了一个 <strong>Home 组件</strong>，里面使用了 <strong>Hello组件</strong>。注意，由于这个组件除了 <code>title</code> 参数，没有其他内容，所以可以写成 <code>&lt;Hello title=&quot;这个美丽又遗憾的世界&quot; /&gt;</code> 这种直接闭合的形式。否则，可以写成下面的形式。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'React'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">'./Hello.js'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Hello title<span class="token operator">=</span><span class="token string">&quot;这个美丽又遗憾的世界&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* 插入的其他内容 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Hello<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Home<span class="token punctuation">;</span>
</code></pre></div><h2 id="参数"><a href="#参数" class="header-anchor">#</a> 参数</h2> <p>上一节的 <code>&lt;Hello title=&quot;这个美丽又遗憾的世界&quot; /&gt;</code> 这行代码，<strong>Hello</strong> 是组件名，<strong>title=&quot;这个美丽又遗憾的世界&quot;</strong> 表示这个组件的有一个 <strong>title</strong> 参数，值为<strong>这个美丽又遗憾的世界</strong>。</p> <p>组件内部，所有参数都放在 <code>this.props</code> 属性上面。通过 <code>this.props.title</code> 就可以拿到传入的值**(这个美丽又遗憾的世界)**。</p> <p>通过这种参数机制，React 组件可以接受外部消息。</p> <h3 id="用法"><a href="#用法" class="header-anchor">#</a> 用法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;container&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Hello<span class="token punctuation">;</span>
</code></pre></div><h3 id="只读性"><a href="#只读性" class="header-anchor">#</a> 只读性</h3> <p><code>props</code>经常被用作渲染组件和初始化状态，当一个组件被实例化之后，它的props是只读的，不可改变的。如果props在渲染过程中可以被改变，会导致这个组件显示的形态变得不可预测。只有通过父组件重新渲染的方式才可以把新的<code>props</code>传入组件中。</p> <h3 id="默认参数"><a href="#默认参数" class="header-anchor">#</a> 默认参数</h3> <p>在组件中，我们最好为props中的参数设置一个defaultProps，并且制定它的类型。比如，这样：</p> <div class="language-js extra-class"><pre class="language-js"><code>Hello<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Hello, world'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Hello<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="类型声明"><a href="#类型声明" class="header-anchor">#</a> 类型声明</h3> <p>关于 <code>propTypes</code>，可以声明为以下几种类型：</p> <div class="language-js extra-class"><pre class="language-js"><code>optionalArray<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>array<span class="token punctuation">,</span>
optionalBool<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">,</span>
optionalFunc<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">,</span>
optionalNumber<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
optionalObject<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">,</span>
optionalString<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
optionalSymbol<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>symbol
</code></pre></div><p>这些知识基础数据类型，还有一些复杂的，附上链接：
<a href="https://facebook.github.io/react/docs/typechecking-with-proptypes.html" target="_blank" rel="noopener noreferrer">https://facebook.github.io/react/docs/typechecking-with-proptypes.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><code>this.props</code> 对象有一个非常特殊的参数 <code>this.props.children</code>，表示当前组件“包裹”的所有内容。比如，上面代码里面的 <code>Hello, {this.props.name}</code>，就是 <strong>&lt;h1&gt; 元素的 this.props.children</strong>。这个属性在 React 里面有很大的作用，它意味着组件内部可以拿到，用户在组件里面放置的内容。</p> <p>我们还是继续看上面那个例子。完整代码如下，内部使用 <code>props.children</code>，获取用户传入的内容。</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p><code>props</code>是一个从外部传进组件的参数，主要作为就是从父组件向子组件传递数据，它具有可读性和不变性，只能通过外部组件主动传入新的props来重新渲染子组件，否则子组件的props以及展现形式不会改变。</p> <h2 id="状态"><a href="#状态" class="header-anchor">#</a> 状态</h2> <p>除了接受外部参数，组件内部也有不同的状态。React 规定，组件的内部状态记录在 <code>this.state</code> 这个对象上面。</p> <blockquote><p>State is similar to props, but it is private and fully controlled by the component.</p></blockquote> <h3 id="状态用法"><a href="#状态用法" class="header-anchor">#</a> 状态用法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ./src/components/pages-game/day2/square.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">'./square.less'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设定一个初始状态</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      value<span class="token operator">:</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      value<span class="token operator">:</span> <span class="token string">'X'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>square<span class="token punctuation">}</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>value<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Square<span class="token punctuation">;</span>
</code></pre></div><p>上面代码中，组件 Square 的构造方法 <code>constructor</code> 里面定义了当前状态 <code>this.state</code> 对象。Square 组件的这个对象只有一个 <code>value</code> 属性，一开始的值是 <code>null</code>。</p> <p>用户点击按钮以后，<code>onClick</code> 监听函数执行 <code>this.setState()</code> 方法。React 使用这个方法，更新 <code>this.state</code> 对象。这个方法有一个特点，就是每次执行以后，它会自动调用 <code>render</code> 方法，导致 UI 更新。UI 里面使用 <code>this.state.value</code>，输出状态值。随着用户点击按钮，页面就会显示 <code>X</code>。</p> <p>可以看到，这个例子里面，内部状态用来区分用户是否点击了按钮。</p> <h3 id="setstate"><a href="#setstate" class="header-anchor">#</a> setState</h3> <p><code>state</code> 不同于 <code>props</code> 的一点是，<code>state</code> 是可以被改变的。不过，不可以直接通过 <code>this.state=</code> 的方式来修改，而需要通过<code>this.setState()</code> 方法来修改 <code>state</code>。</p> <p>比如，我们经常会通过异步操作来获取数据，我们需要在 <code>didMount</code> 阶段来执行异步操作：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>itemList<span class="token operator">:</span>item<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当数据获取完成后，通过 <code>this.setState</code> 来修改数据状态。</p> <p>当我们调用 <code>this.setState</code> 方法时，React会更新组件的数据状态 <code>state</code>，并且重新调用 <code>render</code> 方法，也就是会对组件进行重新渲染。</p> <p><strong>注意：通过 <code>this.state=</code> 来初始化 <code>state</code>，使用 <code>this.setState</code> 来修改 <code>state</code>，<code>constructor</code>是唯一能够初始化的地方。</strong></p> <p><code>setState</code> 接受一个对象或者函数作为第一个参数，只需要传入需要更新的部分即可，不需要传入整个对象，比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'王美丽'</span><span class="token punctuation">,</span>
      age<span class="token operator">:</span> <span class="token number">27</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>大家好，我是 <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>我今年 <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      age<span class="token operator">:</span> <span class="token number">18</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在执行完setState之后的state应该是 <code>{ name: '王美丽', age: 18 }</code>。</p> <p><code>setState</code> 还可以接受第二个参数，它是一个函数，会在 <code>setState</code> 调用完成并且组件开始重新渲染时被调用，可以用来监听渲染是否完成：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>age <span class="token operator">-</span> <span class="token number">9</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setState finished'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>state</code> 的主要作用是用于<strong>组件保存、控制以及修改自己的状态</strong>，它只能在 <code>constructor</code> 中初始化，它算是组件的<strong>私有属性，不可通过外部访问和修改</strong>，只能通过组件内部的 <code>this.setState</code> 来修改，修改 <code>state</code>属性会导致组件的重新渲染。</p> <h2 id="参数与状态区别"><a href="#参数与状态区别" class="header-anchor">#</a> 参数与状态区别</h2> <table><thead><tr><th style="text-align:left;">组件参数 props</th> <th style="text-align:left;">组件状态 state</th></tr></thead> <tbody><tr><td style="text-align:left;">不变性，外部传入的数据参数</td> <td style="text-align:left;">可变，组件自己管理数据，控制自己的状态</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;">没有 <code>state</code> 的叫做无状态组件，有 <code>state</code> 的叫做有状态组件</td></tr></tbody></table> <p>多用 props，少用 state, 及<strong>多写无状态组件</strong>。</p> <h2 id="提取组件"><a href="#提取组件" class="header-anchor">#</a> 提取组件</h2> <p>先看看这个 <code>Comment</code> 组件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Comment</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;Comment&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;UserInfo&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>img className<span class="token operator">=</span><span class="token string">&quot;Avatar&quot;</span>
          src<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>author<span class="token punctuation">.</span>avatarUrl<span class="token punctuation">}</span>
          alt<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>author<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;UserInfo-name&quot;</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span>props<span class="token punctuation">.</span>author<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;Comment-text&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>props<span class="token punctuation">.</span>text<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;Comment-date&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token function">formatDate</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这个组件接收 <code>author(对象)</code>、<code>text(字符串)</code>、以及 <code>date(Date对象)</code> 作为 <code>props</code>，用来描述一个社交媒体网站上的评论。</p> <p>这个组件由于嵌套，变得难以被修改，可复用的部分也难以被复用。所以让我们从这个组件中提取出一些小组件。</p> <p>提取 <code>Avatar</code> 组件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Avatar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  avatarUrl<span class="token punctuation">,</span>
  name
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>img className<span class="token operator">=</span><span class="token string">&quot;Avatar&quot;</span>
      src<span class="token operator">=</span><span class="token punctuation">{</span>avatarUrl<span class="token punctuation">}</span>
      alt<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>提取一个 <code>UserInfo</code> 组件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">UserInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  author
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;UserInfo&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Avatar <span class="token punctuation">{</span><span class="token operator">...</span>author<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;UserInfo-name&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>author<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>此时 <code>Comment</code> 组件可以改为</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Comment</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;Comment&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>UserInfo <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;Comment-text&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>props<span class="token punctuation">.</span>text<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;Comment-date&quot;</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token function">formatDate</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>提取组件</strong>一开始看起来像是一项单调乏味的工作，但是在大型应用中，构建可复用的组件完全是值得的。当你的UI中有一部分重复使用了好几次（比如 <code>Avatar</code>），或者其自身就足够复杂（比如 <code>Comment</code>），类似这些都是抽象成一个可复用组件的绝佳选择，这也是一个比较好的做法。</p> <h2 id="组件描述"><a href="#组件描述" class="header-anchor">#</a> 组件描述</h2> <p><img src="/assets/img/dom.93d0e4fd.jpg" alt="组件描述"></p> <h3 id="instance"><a href="#instance" class="header-anchor">#</a> instance</h3> <p>熟悉面向对象编程的人都知道类和实例的关系。套用下格式，组件实例就是组件类实例化的结果。理论很简单，但是在react中却容易弄不明白，为什么这么说呢？</p> <p>在react应用过程中，不需要我们自己去实例化一个组件实例，你肯定猜到了，是 react 内部帮助我们做了这件事。因此，我们真正接触组件实例的机会并不多。而实际应用中，接触更多的是即将登场的<strong>element</strong>，因为我们通常写的 jsx 其实就是 element 的一种表示方式。
虽然，组件实例用的不多，但是偶尔也会用到，就是 <strong>ref</strong>。</p> <h3 id="refs"><a href="#refs" class="header-anchor">#</a> refs</h3> <p>凡事总有例外，总会有一些很奇葩的时候我们需要直接去操作页面的真实DOM，这就要求我们有直接访问真实DOM的能力，而Refs就是为我们提供了这样的能力。</p> <p><strong>ref可以指向一个 dom 节点或一个类组件（class component）的实例，但是不能用于函数式组件（因为函数式组件不能实例化）</strong>。简单来说 ref 可以指向一个组件实例。</p> <p>看这个名字也知道，Refs其实是提供了一个对真实DOM（组件）的引用，我们可以通过这个引用直接去操作DOM（组件）</p> <p>什么时候用？官方建议</p> <blockquote></blockquote> <ul><li>Managing focus, text selection, or media playback.</li> <li>Triggering imperative animations.</li> <li>Integrating with third-party DOM libraries.</li></ul> <p>简单的来说就是处理DOM元素的focus，文本的选择或者媒体的播放等，以及处罚强制动画或者同第三方DOM库集成的时候。也就是React无法控制局面的时候，就需要直接操作Refs了。</p> <p>至于 <code>refs</code> 如何使用，请<a href="/advanced/forwarding_refs.html">点击这里</a></p> <h3 id="dom"><a href="#dom" class="header-anchor">#</a> dom</h3> <p>说道dom，作为一名前端开发人员肯定都熟悉了，</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> divDomNode <span class="token operator">=</span> window<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>其实所有dom节点都是 <code>window.HTMLElement</code> 的实例</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">window<span class="token punctuation">.</span>HTMLElement</span>
</code></pre></div><p>重复下关系，dom节点是HTMLElement的实例，组件实例是组件类的实例（react中），element是对组件实例或dom节点的描述。</p> <h3 id="组件描述总结"><a href="#组件描述总结" class="header-anchor">#</a> 组件描述总结</h3> <p>来自类组件的 render 方法以及函数式组件的返回值，返回一个嵌套结构的视图。</p> <ul><li>简单来说 element 就是一个纯对象（plain object）,不是组件实例。</li> <li>它含有<strong>两个属性 type:(string|ReactClass) 和 props:Object</strong>。
<ul><li>type 为 string，则表示 <strong>dom 节点</strong></li> <li>type 为 function 或 ReactClass，则表示<strong>组件实例</strong></li></ul></li> <li>和组件实例的关系是：它是对组件实例或dom节点的描述，实例是react内部帮我们干了（好心人啊）。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// type: string  描述dom节点</span>
<span class="token keyword">const</span> button <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>suqare<span class="token punctuation">}</span><span class="token operator">&gt;</span>戳<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    className<span class="token operator">:</span> styles<span class="token punctuation">.</span>suqare<span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token string">'戳'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// type: function|ReactClass 描述组件实例</span>
<span class="token keyword">function</span> <span class="token function">Button</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ....</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
  type<span class="token operator">:</span> Button<span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token string">'primary'</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token string">'我是另一个按钮，戳我'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="jsx-语法"><a href="#jsx-语法" class="header-anchor">#</a> JSX 语法</h2> <p>第一次接触 React 的用户，都会有一个共同的疑问，为什么 JavaScript 代码里面可以直接插入 HTML 代码。这难道不会报错吗？</p> <p>回答是如果你把上面的代码，放到 JavaScript 引擎里面运行，确实会报错。因为这种语法不是 JavaScript，而是 React 为了方便开发者自创的 JSX 语法。</p> <p>JSX 可以被 Babel 转码器转为正常的 JavaScript 语法（jsx 转为 element 纯对象）。当遇到 <code>&lt;</code> JSX就当 <strong>HTML 解析</strong>，遇到 <code>{</code> 就当 <strong>JavaScript 解析</strong>。上面的 JSX 语法转码后的结果如下。</p> <div class="language-js extra-class"><pre class="language-js"><code>exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
    <span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      className<span class="token operator">:</span> styles<span class="token punctuation">.</span>square
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;戳&quot;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><code>React.createElement()</code> 这个方法首先会进行一些避免 bug 的检查，之后会返回一个类似下面例子的对象（组件描述）：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    className<span class="token operator">:</span> styles<span class="token punctuation">.</span>suqare<span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token string">'戳'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>这样的对象被称为 “React 元素”。它代表所有你在屏幕上看到的东西。React 通过读取这些对象来构建 DOM 并保持数据内容一致。</p> <p>两种写法一比较，就会发现对于复杂的 UI 组件来说，JSX 更易写也更易读。所以，几乎所有的 React 开发者都使用 JSX 语法。在实际开发中，JSX在产品打包阶段都已经编译成纯JavaScript，JSX的语法不会带来任何性能影响。另外，由于JSX只是一种语法，因此JavaScript的关键字 <code>class, for</code>等也不能出现在XML中，而要如例子中所示，使用 <code>className, htmlFor</code> 代替。</p> <p>JSX 语法的特点就是，凡是使用 JavaScript 的值的地方，都可以插入这种类似 HTML 的语法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> world<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>这里有<strong>两个注意点</strong>:</p> <ul><li>所有 HTML 标签必须是闭合的，如果写成 <code>&lt;h1&gt;Hello</code> 就会报错。如果是那种没有闭合语法的标签，必须在标签尾部加上斜杠，比如 <code>&lt;img src=&quot;&quot; /&gt;</code>。</li> <li>任何 JSX 表达式，顶层只能有一个标签，也就是说只能有一个根元素。下面的写法会报错。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 报错</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不报错</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不报错</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 不报错</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token operator">&lt;</span>h1 key<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token operator">&lt;</span>h1 key<span class="token operator">=</span><span class="token string">&quot;world&quot;</span><span class="token operator">&gt;</span>world<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码中，第一种写法会报错，因为根元素的位置有两个并列的 <code>&lt;h1&gt;</code> 标签。在它们外面再包一层，就不会报错了。</p> <p>一般来说，HTML 原生标签都使用小写，开发者自定义的组件标签首字母大写，比如 <code>&lt;MyComponent/&gt;</code>。</p> <p>JSX 语法允许 HTML 与 JS 代码混写。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>
    Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token function">handleFn</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">!</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码中，<code>&lt;h1&gt;</code> 标签的文字内容部分嵌入了 JS 代码。每次生成的文本，取决于函数 <code>handleFn(title)</code> 执行的结果。</p> <p>可以看到，JSX 语法的值的部分，只要使用了大括号{}，就表示进入 JS 的上下文，可以写入 JS 代码。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend/react/initialization.html" class="prev">
        初始化项目
      </a></span> <span class="next"><a href="/frontend/react/lifecycle.html">
        生命周期
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b30fd5ce.js" defer></script><script src="/assets/js/2.0fefc561.js" defer></script><script src="/assets/js/37.4ad5ce3c.js" defer></script>
  </body>
</html>
